(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Mu={exports:{}},ti={},Du={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),bh=Symbol.for("react.portal"),Eh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),Th=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Ih=Symbol.for("react.memo"),Rh=Symbol.for("react.lazy"),la=Symbol.iterator;function Ah(t){return t===null||typeof t!="object"?null:(t=la&&t[la]||t["@@iterator"],typeof t=="function"?t:null)}var Uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Fu={};function qn(t,e,n){this.props=t,this.context=e,this.refs=Fu,this.updater=n||Uu}qn.prototype.isReactComponent={};qn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bu(){}Bu.prototype=qn.prototype;function al(t,e,n){this.props=t,this.context=e,this.refs=Fu,this.updater=n||Uu}var ul=al.prototype=new Bu;ul.constructor=al;zu(ul,qn.prototype);ul.isPureReactComponent=!0;var aa=Array.isArray,Wu=Object.prototype.hasOwnProperty,cl={current:null},qu={key:!0,ref:!0,__self:!0,__source:!0};function Hu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Wu.call(e,r)&&!qu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Fr,type:t,key:i,ref:o,props:s,_owner:cl.current}}function $h(t,e){return{$$typeof:Fr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fr}function Lh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ua=/\/+/g;function xi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lh(""+t.key):e.toString(36)}function vs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fr:case bh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xi(o,0):r,aa(s)?(n="",t!=null&&(n=t.replace(ua,"$&/")+"/"),vs(s,e,n,"",function(c){return c})):s!=null&&(dl(s)&&(s=$h(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ua,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",aa(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+xi(i,l);o+=vs(i,e,n,a,s)}else if(a=Ah(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+xi(i,l++),o+=vs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yr(t,e,n){if(t==null)return t;var r=[],s=0;return vs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Mh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},ys={transition:null},Dh={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ys,ReactCurrentOwner:cl};function Vu(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Yr,forEach:function(t,e,n){Yr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yr(t,function(){e++}),e},toArray:function(t){return Yr(t,function(e){return e})||[]},only:function(t){if(!dl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=qn;U.Fragment=Eh;U.Profiler=Ch;U.PureComponent=al;U.StrictMode=jh;U.Suspense=Oh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dh;U.act=Vu;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=cl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Wu.call(e,a)&&!qu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Fr,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:Ph,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Th,_context:t},t.Consumer=t};U.createElement=Hu;U.createFactory=function(t){var e=Hu.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Nh,render:t}};U.isValidElement=dl;U.lazy=function(t){return{$$typeof:Rh,_payload:{_status:-1,_result:t},_init:Mh}};U.memo=function(t,e){return{$$typeof:Ih,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=ys.transition;ys.transition={};try{t()}finally{ys.transition=e}};U.unstable_act=Vu;U.useCallback=function(t,e){return Se.current.useCallback(t,e)};U.useContext=function(t){return Se.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};U.useEffect=function(t,e){return Se.current.useEffect(t,e)};U.useId=function(){return Se.current.useId()};U.useImperativeHandle=function(t,e,n){return Se.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Se.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Se.current.useReducer(t,e,n)};U.useRef=function(t){return Se.current.useRef(t)};U.useState=function(t){return Se.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Se.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Se.current.useTransition()};U.version="18.3.1";Du.exports=U;var R=Du.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=R,zh=Symbol.for("react.element"),Fh=Symbol.for("react.fragment"),Bh=Object.prototype.hasOwnProperty,Wh=Uh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qh={key:!0,ref:!0,__self:!0,__source:!0};function Ku(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Bh.call(e,r)&&!qh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:zh,type:t,key:i,ref:o,props:s,_owner:Wh.current}}ti.Fragment=Fh;ti.jsx=Ku;ti.jsxs=Ku;Mu.exports=ti;var u=Mu.exports,Gu={exports:{}},$e={},Ju={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,$){var M=N.length;N.push($);e:for(;0<M;){var te=M-1>>>1,ae=N[te];if(0<s(ae,$))N[te]=$,N[M]=ae,M=te;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],M=N.pop();if(M!==$){N[0]=M;e:for(var te=0,ae=N.length,Jr=ae>>>1;te<Jr;){var Bt=2*(te+1)-1,Si=N[Bt],Wt=Bt+1,Qr=N[Wt];if(0>s(Si,M))Wt<ae&&0>s(Qr,Si)?(N[te]=Qr,N[Wt]=M,te=Wt):(N[te]=Si,N[Bt]=M,te=Bt);else if(Wt<ae&&0>s(Qr,M))N[te]=Qr,N[Wt]=M,te=Wt;else break e}}return $}function s(N,$){var M=N.sortIndex-$.sortIndex;return M!==0?M:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,m=3,_=!1,y=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(N){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=N)r(c),$.sortIndex=$.expirationTime,e(a,$);else break;$=n(c)}}function v(N){if(k=!1,p(N),!y)if(n(a)!==null)y=!0,pe(E);else{var $=n(c);$!==null&&Jn(v,$.startTime-N)}}function E(N,$){y=!1,k&&(k=!1,g(x),x=-1),_=!0;var M=m;try{for(p($),h=n(a);h!==null&&(!(h.expirationTime>$)||N&&!P());){var te=h.callback;if(typeof te=="function"){h.callback=null,m=h.priorityLevel;var ae=te(h.expirationTime<=$);$=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(a)&&r(a),p($)}else r(a);h=n(a)}if(h!==null)var Jr=!0;else{var Bt=n(c);Bt!==null&&Jn(v,Bt.startTime-$),Jr=!1}return Jr}finally{h=null,m=M,_=!1}}var S=!1,C=null,x=-1,I=5,w=-1;function P(){return!(t.unstable_now()-w<I)}function F(){if(C!==null){var N=t.unstable_now();w=N;var $=!0;try{$=C(!0,N)}finally{$?b():(S=!1,C=null)}}else S=!1}var b;if(typeof f=="function")b=function(){f(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=F,b=function(){W.postMessage(null)}}else b=function(){j(F,0)};function pe(N){C=N,S||(S=!0,b())}function Jn(N,$){x=j(function(){N(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||_||(y=!0,pe(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var M=m;m=$;try{return N()}finally{m=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=m;m=N;try{return $()}finally{m=M}},t.unstable_scheduleCallback=function(N,$,M){var te=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?te+M:te):M=te,N){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=M+ae,N={id:d++,callback:$,priorityLevel:N,startTime:M,expirationTime:ae,sortIndex:-1},M>te?(N.sortIndex=M,e(c,N),n(a)===null&&N===n(c)&&(k?(g(x),x=-1):k=!0,Jn(v,M-te))):(N.sortIndex=ae,e(a,N),y||_||(y=!0,pe(E))),N},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(N){var $=m;return function(){var M=m;m=$;try{return N.apply(this,arguments)}finally{m=M}}}})(Qu);Ju.exports=Qu;var Hh=Ju.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=R,Ae=Hh;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yu=new Set,xr={};function ln(t,e){Ln(t,e),Ln(t+"Capture",e)}function Ln(t,e){for(xr[t]=e,t=0;t<e.length;t++)Yu.add(e[t])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=Object.prototype.hasOwnProperty,Kh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ca={},da={};function Gh(t){return so.call(da,t)?!0:so.call(ca,t)?!1:Kh.test(t)?da[t]=!0:(ca[t]=!0,!1)}function Jh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qh(t,e,n,r){if(e===null||typeof e>"u"||Jh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var hl=/[\-:]([a-z])/g;function fl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hl,fl);fe[e]=new xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hl,fl);fe[e]=new xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hl,fl);fe[e]=new xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new xe(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function pl(t,e,n,r){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qh(e,n,s,r)&&(n=null),r||s===null?Gh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gt=Vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xr=Symbol.for("react.element"),yn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),ml=Symbol.for("react.strict_mode"),io=Symbol.for("react.profiler"),Xu=Symbol.for("react.provider"),Zu=Symbol.for("react.context"),gl=Symbol.for("react.forward_ref"),oo=Symbol.for("react.suspense"),lo=Symbol.for("react.suspense_list"),vl=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),ec=Symbol.for("react.offscreen"),ha=Symbol.iterator;function Qn(t){return t===null||typeof t!="object"?null:(t=ha&&t[ha]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,bi;function or(t){if(bi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bi=e&&e[1]||""}return`
`+bi+t}var Ei=!1;function ji(t,e){if(!t||Ei)return"";Ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ei=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?or(t):""}function Yh(t){switch(t.tag){case 5:return or(t.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return t=ji(t.type,!1),t;case 11:return t=ji(t.type.render,!1),t;case 1:return t=ji(t.type,!0),t;default:return""}}function ao(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wn:return"Fragment";case yn:return"Portal";case io:return"Profiler";case ml:return"StrictMode";case oo:return"Suspense";case lo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zu:return(t.displayName||"Context")+".Consumer";case Xu:return(t._context.displayName||"Context")+".Provider";case gl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vl:return e=t.displayName||null,e!==null?e:ao(t.type)||"Memo";case kt:e=t._payload,t=t._init;try{return ao(t(e))}catch{}}return null}function Xh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(e);case 8:return e===ml?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zh(t){var e=tc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zr(t){t._valueTracker||(t._valueTracker=Zh(t))}function nc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uo(t,e){var n=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rc(t,e){e=e.checked,e!=null&&pl(t,"checked",e,!1)}function co(t,e){rc(t,e);var n=Lt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ho(t,e.type,n):e.hasOwnProperty("defaultValue")&&ho(t,e.type,Lt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ho(t,e,n){(e!=="number"||Ps(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lr=Array.isArray;function Nn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ma(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(lr(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lt(n)}}function sc(t,e){var n=Lt(e.value),r=Lt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ga(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ic(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function po(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ic(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var es,oc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=es.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function br(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ef=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(t){ef.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dr[e]=dr[t]})});function lc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dr.hasOwnProperty(t)&&dr[t]?(""+e).trim():e+"px"}function ac(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=lc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tf=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(t,e){if(e){if(tf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function go(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yo=null,On=null,In=null;function va(t){if(t=qr(t)){if(typeof yo!="function")throw Error(T(280));var e=t.stateNode;e&&(e=oi(e),yo(t.stateNode,t.type,e))}}function uc(t){On?In?In.push(t):In=[t]:On=t}function cc(){if(On){var t=On,e=In;if(In=On=null,va(t),e)for(t=0;t<e.length;t++)va(e[t])}}function dc(t,e){return t(e)}function hc(){}var Ci=!1;function fc(t,e,n){if(Ci)return t(e,n);Ci=!0;try{return dc(t,e,n)}finally{Ci=!1,(On!==null||In!==null)&&(hc(),cc())}}function Er(t,e){var n=t.stateNode;if(n===null)return null;var r=oi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var wo=!1;if(ht)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{wo=!1}function nf(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var hr=!1,Ns=null,Os=!1,_o=null,rf={onError:function(t){hr=!0,Ns=t}};function sf(t,e,n,r,s,i,o,l,a){hr=!1,Ns=null,nf.apply(rf,arguments)}function of(t,e,n,r,s,i,o,l,a){if(sf.apply(this,arguments),hr){if(hr){var c=Ns;hr=!1,Ns=null}else throw Error(T(198));Os||(Os=!0,_o=c)}}function an(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ya(t){if(an(t)!==t)throw Error(T(188))}function lf(t){var e=t.alternate;if(!e){if(e=an(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ya(s),t;if(i===r)return ya(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function mc(t){return t=lf(t),t!==null?gc(t):null}function gc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gc(t);if(e!==null)return e;t=t.sibling}return null}var vc=Ae.unstable_scheduleCallback,wa=Ae.unstable_cancelCallback,af=Ae.unstable_shouldYield,uf=Ae.unstable_requestPaint,ne=Ae.unstable_now,cf=Ae.unstable_getCurrentPriorityLevel,wl=Ae.unstable_ImmediatePriority,yc=Ae.unstable_UserBlockingPriority,Is=Ae.unstable_NormalPriority,df=Ae.unstable_LowPriority,wc=Ae.unstable_IdlePriority,ni=null,st=null;function hf(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(ni,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:mf,ff=Math.log,pf=Math.LN2;function mf(t){return t>>>=0,t===0?32:31-(ff(t)/pf|0)|0}var ts=64,ns=4194304;function ar(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ar(l):(i&=o,i!==0&&(r=ar(i)))}else o=n&~s,o!==0?r=ar(o):i!==0&&(r=ar(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qe(e),s=1<<n,r|=t[n],e&=~s;return r}function gf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qe(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=gf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function ko(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _c(){var t=ts;return ts<<=1,!(ts&4194240)&&(ts=64),t}function Ti(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Br(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qe(e),t[e]=n}function yf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function _l(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var q=0;function kc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sc,kl,xc,bc,Ec,So=!1,rs=[],Tt=null,Pt=null,Nt=null,jr=new Map,Cr=new Map,xt=[],wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _a(t,e){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(e.pointerId)}}function Xn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qr(e),e!==null&&kl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _f(t,e,n,r,s){switch(e){case"focusin":return Tt=Xn(Tt,t,e,n,r,s),!0;case"dragenter":return Pt=Xn(Pt,t,e,n,r,s),!0;case"mouseover":return Nt=Xn(Nt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jr.set(i,Xn(jr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cr.set(i,Xn(Cr.get(i)||null,t,e,n,r,s)),!0}return!1}function jc(t){var e=Qt(t.target);if(e!==null){var n=an(e);if(n!==null){if(e=n.tag,e===13){if(e=pc(n),e!==null){t.blockedOn=e,Ec(t.priority,function(){xc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vo=r,n.target.dispatchEvent(r),vo=null}else return e=qr(n),e!==null&&kl(e),t.blockedOn=n,!1;e.shift()}return!0}function ka(t,e,n){ws(t)&&n.delete(e)}function kf(){So=!1,Tt!==null&&ws(Tt)&&(Tt=null),Pt!==null&&ws(Pt)&&(Pt=null),Nt!==null&&ws(Nt)&&(Nt=null),jr.forEach(ka),Cr.forEach(ka)}function Zn(t,e){t.blockedOn===e&&(t.blockedOn=null,So||(So=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,kf)))}function Tr(t){function e(s){return Zn(s,t)}if(0<rs.length){Zn(rs[0],t);for(var n=1;n<rs.length;n++){var r=rs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tt!==null&&Zn(Tt,t),Pt!==null&&Zn(Pt,t),Nt!==null&&Zn(Nt,t),jr.forEach(e),Cr.forEach(e),n=0;n<xt.length;n++)r=xt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)jc(n),n.blockedOn===null&&xt.shift()}var Rn=gt.ReactCurrentBatchConfig,As=!0;function Sf(t,e,n,r){var s=q,i=Rn.transition;Rn.transition=null;try{q=1,Sl(t,e,n,r)}finally{q=s,Rn.transition=i}}function xf(t,e,n,r){var s=q,i=Rn.transition;Rn.transition=null;try{q=4,Sl(t,e,n,r)}finally{q=s,Rn.transition=i}}function Sl(t,e,n,r){if(As){var s=xo(t,e,n,r);if(s===null)Di(t,e,r,$s,n),_a(t,r);else if(_f(s,t,e,n,r))r.stopPropagation();else if(_a(t,r),e&4&&-1<wf.indexOf(t)){for(;s!==null;){var i=qr(s);if(i!==null&&Sc(i),i=xo(t,e,n,r),i===null&&Di(t,e,r,$s,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Di(t,e,r,null,n)}}var $s=null;function xo(t,e,n,r){if($s=null,t=yl(r),t=Qt(t),t!==null)if(e=an(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $s=t,null}function Cc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cf()){case wl:return 1;case yc:return 4;case Is:case df:return 16;case wc:return 536870912;default:return 16}default:return 16}}var jt=null,xl=null,_s=null;function Tc(){if(_s)return _s;var t,e=xl,n=e.length,r,s="value"in jt?jt.value:jt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return _s=s.slice(t,1<r?1-r:void 0)}function ks(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function Sa(){return!1}function Le(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ss:Sa,this.isPropagationStopped=Sa,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),e}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Le(Hn),Wr=X({},Hn,{view:0,detail:0}),bf=Le(Wr),Pi,Ni,er,ri=X({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(Pi=t.screenX-er.screenX,Ni=t.screenY-er.screenY):Ni=Pi=0,er=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:Ni}}),xa=Le(ri),Ef=X({},ri,{dataTransfer:0}),jf=Le(Ef),Cf=X({},Wr,{relatedTarget:0}),Oi=Le(Cf),Tf=X({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pf=Le(Tf),Nf=X({},Hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Of=Le(Nf),If=X({},Hn,{data:0}),ba=Le(If),Rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$f[t])?!!e[t]:!1}function El(){return Lf}var Mf=X({},Wr,{key:function(t){if(t.key){var e=Rf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Af[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Df=Le(Mf),Uf=X({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ea=Le(Uf),zf=X({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Ff=Le(zf),Bf=X({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wf=Le(Bf),qf=X({},ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hf=Le(qf),Vf=[9,13,27,32],jl=ht&&"CompositionEvent"in window,fr=null;ht&&"documentMode"in document&&(fr=document.documentMode);var Kf=ht&&"TextEvent"in window&&!fr,Pc=ht&&(!jl||fr&&8<fr&&11>=fr),ja=" ",Ca=!1;function Nc(t,e){switch(t){case"keyup":return Vf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _n=!1;function Gf(t,e){switch(t){case"compositionend":return Oc(e);case"keypress":return e.which!==32?null:(Ca=!0,ja);case"textInput":return t=e.data,t===ja&&Ca?null:t;default:return null}}function Jf(t,e){if(_n)return t==="compositionend"||!jl&&Nc(t,e)?(t=Tc(),_s=xl=jt=null,_n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pc&&e.locale!=="ko"?null:e.data;default:return null}}var Qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ta(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qf[t.type]:e==="textarea"}function Ic(t,e,n,r){uc(r),e=Ls(e,"onChange"),0<e.length&&(n=new bl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pr=null,Pr=null;function Yf(t){Wc(t,0)}function si(t){var e=xn(t);if(nc(e))return t}function Xf(t,e){if(t==="change")return e}var Rc=!1;if(ht){var Ii;if(ht){var Ri="oninput"in document;if(!Ri){var Pa=document.createElement("div");Pa.setAttribute("oninput","return;"),Ri=typeof Pa.oninput=="function"}Ii=Ri}else Ii=!1;Rc=Ii&&(!document.documentMode||9<document.documentMode)}function Na(){pr&&(pr.detachEvent("onpropertychange",Ac),Pr=pr=null)}function Ac(t){if(t.propertyName==="value"&&si(Pr)){var e=[];Ic(e,Pr,t,yl(t)),fc(Yf,e)}}function Zf(t,e,n){t==="focusin"?(Na(),pr=e,Pr=n,pr.attachEvent("onpropertychange",Ac)):t==="focusout"&&Na()}function ep(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return si(Pr)}function tp(t,e){if(t==="click")return si(e)}function np(t,e){if(t==="input"||t==="change")return si(e)}function rp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:rp;function Nr(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!so.call(e,s)||!Xe(t[s],e[s]))return!1}return!0}function Oa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ia(t,e){var n=Oa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oa(n)}}function $c(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$c(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lc(){for(var t=window,e=Ps();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ps(t.document)}return e}function Cl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sp(t){var e=Lc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$c(n.ownerDocument.documentElement,n)){if(r!==null&&Cl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ia(n,i);var o=Ia(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ip=ht&&"documentMode"in document&&11>=document.documentMode,kn=null,bo=null,mr=null,Eo=!1;function Ra(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eo||kn==null||kn!==Ps(r)||(r=kn,"selectionStart"in r&&Cl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mr&&Nr(mr,r)||(mr=r,r=Ls(bo,"onSelect"),0<r.length&&(e=new bl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=kn)))}function is(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sn={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},Ai={},Mc={};ht&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function ii(t){if(Ai[t])return Ai[t];if(!Sn[t])return t;var e=Sn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mc)return Ai[t]=e[n];return t}var Dc=ii("animationend"),Uc=ii("animationiteration"),zc=ii("animationstart"),Fc=ii("transitionend"),Bc=new Map,Aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dt(t,e){Bc.set(t,e),ln(e,[t])}for(var $i=0;$i<Aa.length;$i++){var Li=Aa[$i],op=Li.toLowerCase(),lp=Li[0].toUpperCase()+Li.slice(1);Dt(op,"on"+lp)}Dt(Dc,"onAnimationEnd");Dt(Uc,"onAnimationIteration");Dt(zc,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(Fc,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function $a(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,of(r,e,void 0,t),t.currentTarget=null}function Wc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;$a(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;$a(s,l,c),i=a}}}if(Os)throw t=_o,Os=!1,_o=null,t}function K(t,e){var n=e[No];n===void 0&&(n=e[No]=new Set);var r=t+"__bubble";n.has(r)||(qc(e,t,2,!1),n.add(r))}function Mi(t,e,n){var r=0;e&&(r|=4),qc(n,t,r,e)}var os="_reactListening"+Math.random().toString(36).slice(2);function Or(t){if(!t[os]){t[os]=!0,Yu.forEach(function(n){n!=="selectionchange"&&(ap.has(n)||Mi(n,!1,t),Mi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[os]||(e[os]=!0,Mi("selectionchange",!1,e))}}function qc(t,e,n,r){switch(Cc(e)){case 1:var s=Sf;break;case 4:s=xf;break;default:s=Sl}n=s.bind(null,e,n,t),s=void 0,!wo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Di(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Qt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}fc(function(){var c=i,d=yl(n),h=[];e:{var m=Bc.get(t);if(m!==void 0){var _=bl,y=t;switch(t){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":_=Df;break;case"focusin":y="focus",_=Oi;break;case"focusout":y="blur",_=Oi;break;case"beforeblur":case"afterblur":_=Oi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Ff;break;case Dc:case Uc:case zc:_=Pf;break;case Fc:_=Wf;break;case"scroll":_=bf;break;case"wheel":_=Hf;break;case"copy":case"cut":case"paste":_=Of;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Ea}var k=(e&4)!==0,j=!k&&t==="scroll",g=k?m!==null?m+"Capture":null:m;k=[];for(var f=c,p;f!==null;){p=f;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,g!==null&&(v=Er(f,g),v!=null&&k.push(Ir(f,v,p)))),j)break;f=f.return}0<k.length&&(m=new _(m,y,null,n,d),h.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==vo&&(y=n.relatedTarget||n.fromElement)&&(Qt(y)||y[ft]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(y=n.relatedTarget||n.toElement,_=c,y=y?Qt(y):null,y!==null&&(j=an(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(_=null,y=c),_!==y)){if(k=xa,v="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(k=Ea,v="onPointerLeave",g="onPointerEnter",f="pointer"),j=_==null?m:xn(_),p=y==null?m:xn(y),m=new k(v,f+"leave",_,n,d),m.target=j,m.relatedTarget=p,v=null,Qt(d)===c&&(k=new k(g,f+"enter",y,n,d),k.target=p,k.relatedTarget=j,v=k),j=v,_&&y)t:{for(k=_,g=y,f=0,p=k;p;p=cn(p))f++;for(p=0,v=g;v;v=cn(v))p++;for(;0<f-p;)k=cn(k),f--;for(;0<p-f;)g=cn(g),p--;for(;f--;){if(k===g||g!==null&&k===g.alternate)break t;k=cn(k),g=cn(g)}k=null}else k=null;_!==null&&La(h,m,_,k,!1),y!==null&&j!==null&&La(h,j,y,k,!0)}}e:{if(m=c?xn(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var E=Xf;else if(Ta(m))if(Rc)E=np;else{E=ep;var S=Zf}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=tp);if(E&&(E=E(t,c))){Ic(h,E,n,d);break e}S&&S(t,m,c),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&ho(m,"number",m.value)}switch(S=c?xn(c):window,t){case"focusin":(Ta(S)||S.contentEditable==="true")&&(kn=S,bo=c,mr=null);break;case"focusout":mr=bo=kn=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,Ra(h,n,d);break;case"selectionchange":if(ip)break;case"keydown":case"keyup":Ra(h,n,d)}var C;if(jl)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else _n?Nc(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Pc&&n.locale!=="ko"&&(_n||x!=="onCompositionStart"?x==="onCompositionEnd"&&_n&&(C=Tc()):(jt=d,xl="value"in jt?jt.value:jt.textContent,_n=!0)),S=Ls(c,x),0<S.length&&(x=new ba(x,t,null,n,d),h.push({event:x,listeners:S}),C?x.data=C:(C=Oc(n),C!==null&&(x.data=C)))),(C=Kf?Gf(t,n):Jf(t,n))&&(c=Ls(c,"onBeforeInput"),0<c.length&&(d=new ba("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}Wc(h,e)})}function Ir(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ls(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Er(t,n),i!=null&&r.unshift(Ir(t,i,s)),i=Er(t,e),i!=null&&r.push(Ir(t,i,s))),t=t.return}return r}function cn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function La(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Er(n,i),a!=null&&o.unshift(Ir(n,a,l))):s||(a=Er(n,i),a!=null&&o.push(Ir(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var up=/\r\n?/g,cp=/\u0000|\uFFFD/g;function Ma(t){return(typeof t=="string"?t:""+t).replace(up,`
`).replace(cp,"")}function ls(t,e,n){if(e=Ma(e),Ma(t)!==e&&n)throw Error(T(425))}function Ms(){}var jo=null,Co=null;function To(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,dp=typeof clearTimeout=="function"?clearTimeout:void 0,Da=typeof Promise=="function"?Promise:void 0,hp=typeof queueMicrotask=="function"?queueMicrotask:typeof Da<"u"?function(t){return Da.resolve(null).then(t).catch(fp)}:Po;function fp(t){setTimeout(function(){throw t})}function Ui(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Tr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Tr(e)}function Ot(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ua(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Vn,Rr="__reactProps$"+Vn,ft="__reactContainer$"+Vn,No="__reactEvents$"+Vn,pp="__reactListeners$"+Vn,mp="__reactHandles$"+Vn;function Qt(t){var e=t[rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ft]||n[rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ua(t);t!==null;){if(n=t[rt])return n;t=Ua(t)}return e}t=n,n=t.parentNode}return null}function qr(t){return t=t[rt]||t[ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function oi(t){return t[Rr]||null}var Oo=[],bn=-1;function Ut(t){return{current:t}}function G(t){0>bn||(t.current=Oo[bn],Oo[bn]=null,bn--)}function V(t,e){bn++,Oo[bn]=t.current,t.current=e}var Mt={},we=Ut(Mt),Te=Ut(!1),tn=Mt;function Mn(t,e){var n=t.type.contextTypes;if(!n)return Mt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(t){return t=t.childContextTypes,t!=null}function Ds(){G(Te),G(we)}function za(t,e,n){if(we.current!==Mt)throw Error(T(168));V(we,e),V(Te,n)}function Hc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,Xh(t)||"Unknown",s));return X({},n,r)}function Us(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mt,tn=we.current,V(we,t),V(Te,Te.current),!0}function Fa(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=Hc(t,e,tn),r.__reactInternalMemoizedMergedChildContext=t,G(Te),G(we),V(we,t)):G(Te),V(Te,n)}var at=null,li=!1,zi=!1;function Vc(t){at===null?at=[t]:at.push(t)}function gp(t){li=!0,Vc(t)}function zt(){if(!zi&&at!==null){zi=!0;var t=0,e=q;try{var n=at;for(q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}at=null,li=!1}catch(s){throw at!==null&&(at=at.slice(t+1)),vc(wl,zt),s}finally{q=e,zi=!1}}return null}var En=[],jn=0,zs=null,Fs=0,De=[],Ue=0,nn=null,ut=1,ct="";function Vt(t,e){En[jn++]=Fs,En[jn++]=zs,zs=t,Fs=e}function Kc(t,e,n){De[Ue++]=ut,De[Ue++]=ct,De[Ue++]=nn,nn=t;var r=ut;t=ct;var s=32-Qe(r)-1;r&=~(1<<s),n+=1;var i=32-Qe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ut=1<<32-Qe(e)+s|n<<s|r,ct=i+t}else ut=1<<i|n<<s|r,ct=t}function Tl(t){t.return!==null&&(Vt(t,1),Kc(t,1,0))}function Pl(t){for(;t===zs;)zs=En[--jn],En[jn]=null,Fs=En[--jn],En[jn]=null;for(;t===nn;)nn=De[--Ue],De[Ue]=null,ct=De[--Ue],De[Ue]=null,ut=De[--Ue],De[Ue]=null}var Re=null,Ie=null,J=!1,Je=null;function Gc(t,e){var n=ze(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ba(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Re=t,Ie=Ot(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Re=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nn!==null?{id:ut,overflow:ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ze(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Re=t,Ie=null,!0):!1;default:return!1}}function Io(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ro(t){if(J){var e=Ie;if(e){var n=e;if(!Ba(t,e)){if(Io(t))throw Error(T(418));e=Ot(n.nextSibling);var r=Re;e&&Ba(t,e)?Gc(r,n):(t.flags=t.flags&-4097|2,J=!1,Re=t)}}else{if(Io(t))throw Error(T(418));t.flags=t.flags&-4097|2,J=!1,Re=t}}}function Wa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Re=t}function as(t){if(t!==Re)return!1;if(!J)return Wa(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!To(t.type,t.memoizedProps)),e&&(e=Ie)){if(Io(t))throw Jc(),Error(T(418));for(;e;)Gc(t,e),e=Ot(e.nextSibling)}if(Wa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ie=Ot(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=Re?Ot(t.stateNode.nextSibling):null;return!0}function Jc(){for(var t=Ie;t;)t=Ot(t.nextSibling)}function Dn(){Ie=Re=null,J=!1}function Nl(t){Je===null?Je=[t]:Je.push(t)}var vp=gt.ReactCurrentBatchConfig;function tr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function us(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qa(t){var e=t._init;return e(t._payload)}function Qc(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=$t(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,v){return f===null||f.tag!==6?(f=Ki(p,g.mode,v),f.return=g,f):(f=s(f,p),f.return=g,f)}function a(g,f,p,v){var E=p.type;return E===wn?d(g,f,p.props.children,v,p.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===kt&&qa(E)===f.type)?(v=s(f,p.props),v.ref=tr(g,f,p),v.return=g,v):(v=Ts(p.type,p.key,p.props,null,g.mode,v),v.ref=tr(g,f,p),v.return=g,v)}function c(g,f,p,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Gi(p,g.mode,v),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,v,E){return f===null||f.tag!==7?(f=en(p,g.mode,v,E),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ki(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xr:return p=Ts(f.type,f.key,f.props,null,g.mode,p),p.ref=tr(g,null,f),p.return=g,p;case yn:return f=Gi(f,g.mode,p),f.return=g,f;case kt:var v=f._init;return h(g,v(f._payload),p)}if(lr(f)||Qn(f))return f=en(f,g.mode,p,null),f.return=g,f;us(g,f)}return null}function m(g,f,p,v){var E=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:l(g,f,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xr:return p.key===E?a(g,f,p,v):null;case yn:return p.key===E?c(g,f,p,v):null;case kt:return E=p._init,m(g,f,E(p._payload),v)}if(lr(p)||Qn(p))return E!==null?null:d(g,f,p,v,null);us(g,p)}return null}function _(g,f,p,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(p)||null,l(f,g,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xr:return g=g.get(v.key===null?p:v.key)||null,a(f,g,v,E);case yn:return g=g.get(v.key===null?p:v.key)||null,c(f,g,v,E);case kt:var S=v._init;return _(g,f,p,S(v._payload),E)}if(lr(v)||Qn(v))return g=g.get(p)||null,d(f,g,v,E,null);us(f,v)}return null}function y(g,f,p,v){for(var E=null,S=null,C=f,x=f=0,I=null;C!==null&&x<p.length;x++){C.index>x?(I=C,C=null):I=C.sibling;var w=m(g,C,p[x],v);if(w===null){C===null&&(C=I);break}t&&C&&w.alternate===null&&e(g,C),f=i(w,f,x),S===null?E=w:S.sibling=w,S=w,C=I}if(x===p.length)return n(g,C),J&&Vt(g,x),E;if(C===null){for(;x<p.length;x++)C=h(g,p[x],v),C!==null&&(f=i(C,f,x),S===null?E=C:S.sibling=C,S=C);return J&&Vt(g,x),E}for(C=r(g,C);x<p.length;x++)I=_(C,g,x,p[x],v),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?x:I.key),f=i(I,f,x),S===null?E=I:S.sibling=I,S=I);return t&&C.forEach(function(P){return e(g,P)}),J&&Vt(g,x),E}function k(g,f,p,v){var E=Qn(p);if(typeof E!="function")throw Error(T(150));if(p=E.call(p),p==null)throw Error(T(151));for(var S=E=null,C=f,x=f=0,I=null,w=p.next();C!==null&&!w.done;x++,w=p.next()){C.index>x?(I=C,C=null):I=C.sibling;var P=m(g,C,w.value,v);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(g,C),f=i(P,f,x),S===null?E=P:S.sibling=P,S=P,C=I}if(w.done)return n(g,C),J&&Vt(g,x),E;if(C===null){for(;!w.done;x++,w=p.next())w=h(g,w.value,v),w!==null&&(f=i(w,f,x),S===null?E=w:S.sibling=w,S=w);return J&&Vt(g,x),E}for(C=r(g,C);!w.done;x++,w=p.next())w=_(C,g,x,w.value,v),w!==null&&(t&&w.alternate!==null&&C.delete(w.key===null?x:w.key),f=i(w,f,x),S===null?E=w:S.sibling=w,S=w);return t&&C.forEach(function(F){return e(g,F)}),J&&Vt(g,x),E}function j(g,f,p,v){if(typeof p=="object"&&p!==null&&p.type===wn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Xr:e:{for(var E=p.key,S=f;S!==null;){if(S.key===E){if(E=p.type,E===wn){if(S.tag===7){n(g,S.sibling),f=s(S,p.props.children),f.return=g,g=f;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===kt&&qa(E)===S.type){n(g,S.sibling),f=s(S,p.props),f.ref=tr(g,S,p),f.return=g,g=f;break e}n(g,S);break}else e(g,S);S=S.sibling}p.type===wn?(f=en(p.props.children,g.mode,v,p.key),f.return=g,g=f):(v=Ts(p.type,p.key,p.props,null,g.mode,v),v.ref=tr(g,f,p),v.return=g,g=v)}return o(g);case yn:e:{for(S=p.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=Gi(p,g.mode,v),f.return=g,g=f}return o(g);case kt:return S=p._init,j(g,f,S(p._payload),v)}if(lr(p))return y(g,f,p,v);if(Qn(p))return k(g,f,p,v);us(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=Ki(p,g.mode,v),f.return=g,g=f),o(g)):n(g,f)}return j}var Un=Qc(!0),Yc=Qc(!1),Bs=Ut(null),Ws=null,Cn=null,Ol=null;function Il(){Ol=Cn=Ws=null}function Rl(t){var e=Bs.current;G(Bs),t._currentValue=e}function Ao(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function An(t,e){Ws=t,Ol=Cn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ce=!0),t.firstContext=null)}function We(t){var e=t._currentValue;if(Ol!==t)if(t={context:t,memoizedValue:e,next:null},Cn===null){if(Ws===null)throw Error(T(308));Cn=t,Ws.dependencies={lanes:0,firstContext:t}}else Cn=Cn.next=t;return e}var Yt=null;function Al(t){Yt===null?Yt=[t]:Yt.push(t)}function Xc(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Al(e)):(n.next=s.next,s.next=n),e.interleaved=n,pt(t,r)}function pt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var St=!1;function $l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function It(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pt(t,n)}return s=r.interleaved,s===null?(e.next=e,Al(r)):(e.next=s.next,s.next=e),r.interleaved=e,pt(t,n)}function Ss(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_l(t,n)}}function Ha(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qs(t,e,n,r){var s=t.updateQueue;St=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var m=l.lane,_=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,k=l;switch(m=e,_=n,k.tag){case 1:if(y=k.payload,typeof y=="function"){h=y.call(_,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=k.payload,m=typeof y=="function"?y.call(_,h,m):y,m==null)break e;h=X({},h,m);break e;case 2:St=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,a=h):d=d.next=_,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);sn|=o,t.lanes=o,t.memoizedState=h}}function Va(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Hr={},it=Ut(Hr),Ar=Ut(Hr),$r=Ut(Hr);function Xt(t){if(t===Hr)throw Error(T(174));return t}function Ll(t,e){switch(V($r,e),V(Ar,t),V(it,Hr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:po(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=po(e,t)}G(it),V(it,e)}function zn(){G(it),G(Ar),G($r)}function ed(t){Xt($r.current);var e=Xt(it.current),n=po(e,t.type);e!==n&&(V(Ar,t),V(it,n))}function Ml(t){Ar.current===t&&(G(it),G(Ar))}var Q=Ut(0);function Hs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fi=[];function Dl(){for(var t=0;t<Fi.length;t++)Fi[t]._workInProgressVersionPrimary=null;Fi.length=0}var xs=gt.ReactCurrentDispatcher,Bi=gt.ReactCurrentBatchConfig,rn=0,Y=null,oe=null,ue=null,Vs=!1,gr=!1,Lr=0,yp=0;function me(){throw Error(T(321))}function Ul(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xe(t[n],e[n]))return!1;return!0}function zl(t,e,n,r,s,i){if(rn=i,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xs.current=t===null||t.memoizedState===null?Sp:xp,t=n(r,s),gr){i=0;do{if(gr=!1,Lr=0,25<=i)throw Error(T(301));i+=1,ue=oe=null,e.updateQueue=null,xs.current=bp,t=n(r,s)}while(gr)}if(xs.current=Ks,e=oe!==null&&oe.next!==null,rn=0,ue=oe=Y=null,Vs=!1,e)throw Error(T(300));return t}function Fl(){var t=Lr!==0;return Lr=0,t}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Y.memoizedState=ue=t:ue=ue.next=t,ue}function qe(){if(oe===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ue===null?Y.memoizedState:ue.next;if(e!==null)ue=e,oe=t;else{if(t===null)throw Error(T(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?Y.memoizedState=ue=t:ue=ue.next=t}return ue}function Mr(t,e){return typeof e=="function"?e(t):e}function Wi(t){var e=qe(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((rn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,Y.lanes|=d,sn|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Xe(r,e.memoizedState)||(Ce=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Y.lanes|=i,sn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qi(t){var e=qe(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xe(i,e.memoizedState)||(Ce=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function td(){}function nd(t,e){var n=Y,r=qe(),s=e(),i=!Xe(r.memoizedState,s);if(i&&(r.memoizedState=s,Ce=!0),r=r.queue,Bl(id.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Dr(9,sd.bind(null,n,r,s,e),void 0,null),ce===null)throw Error(T(349));rn&30||rd(n,e,s)}return s}function rd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sd(t,e,n,r){e.value=n,e.getSnapshot=r,od(e)&&ld(t)}function id(t,e,n){return n(function(){od(e)&&ld(t)})}function od(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xe(t,n)}catch{return!0}}function ld(t){var e=pt(t,1);e!==null&&Ye(e,t,1,-1)}function Ka(t){var e=tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:t},e.queue=t,t=t.dispatch=kp.bind(null,Y,t),[e.memoizedState,t]}function Dr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ad(){return qe().memoizedState}function bs(t,e,n,r){var s=tt();Y.flags|=t,s.memoizedState=Dr(1|e,n,void 0,r===void 0?null:r)}function ai(t,e,n,r){var s=qe();r=r===void 0?null:r;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,r!==null&&Ul(r,o.deps)){s.memoizedState=Dr(e,n,i,r);return}}Y.flags|=t,s.memoizedState=Dr(1|e,n,i,r)}function Ga(t,e){return bs(8390656,8,t,e)}function Bl(t,e){return ai(2048,8,t,e)}function ud(t,e){return ai(4,2,t,e)}function cd(t,e){return ai(4,4,t,e)}function dd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hd(t,e,n){return n=n!=null?n.concat([t]):null,ai(4,4,dd.bind(null,e,t),n)}function Wl(){}function fd(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ul(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pd(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ul(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function md(t,e,n){return rn&21?(Xe(n,e)||(n=_c(),Y.lanes|=n,sn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ce=!0),t.memoizedState=n)}function wp(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var r=Bi.transition;Bi.transition={};try{t(!1),e()}finally{q=n,Bi.transition=r}}function gd(){return qe().memoizedState}function _p(t,e,n){var r=At(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vd(t))yd(e,n);else if(n=Xc(t,e,n,r),n!==null){var s=ke();Ye(n,t,r,s),wd(n,e,r)}}function kp(t,e,n){var r=At(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vd(t))yd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Xe(l,o)){var a=e.interleaved;a===null?(s.next=s,Al(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Xc(t,e,s,r),n!==null&&(s=ke(),Ye(n,t,r,s),wd(n,e,r))}}function vd(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function yd(t,e){gr=Vs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_l(t,n)}}var Ks={readContext:We,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Sp={readContext:We,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:Ga,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bs(4194308,4,dd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bs(4194308,4,t,e)},useInsertionEffect:function(t,e){return bs(4,2,t,e)},useMemo:function(t,e){var n=tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_p.bind(null,Y,t),[r.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:Ka,useDebugValue:Wl,useDeferredValue:function(t){return tt().memoizedState=t},useTransition:function(){var t=Ka(!1),e=t[0];return t=wp.bind(null,t[1]),tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Y,s=tt();if(J){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),ce===null)throw Error(T(349));rn&30||rd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ga(id.bind(null,r,i,t),[t]),r.flags|=2048,Dr(9,sd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=tt(),e=ce.identifierPrefix;if(J){var n=ct,r=ut;n=(r&~(1<<32-Qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xp={readContext:We,useCallback:fd,useContext:We,useEffect:Bl,useImperativeHandle:hd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:pd,useReducer:Wi,useRef:ad,useState:function(){return Wi(Mr)},useDebugValue:Wl,useDeferredValue:function(t){var e=qe();return md(e,oe.memoizedState,t)},useTransition:function(){var t=Wi(Mr)[0],e=qe().memoizedState;return[t,e]},useMutableSource:td,useSyncExternalStore:nd,useId:gd,unstable_isNewReconciler:!1},bp={readContext:We,useCallback:fd,useContext:We,useEffect:Bl,useImperativeHandle:hd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:pd,useReducer:qi,useRef:ad,useState:function(){return qi(Mr)},useDebugValue:Wl,useDeferredValue:function(t){var e=qe();return oe===null?e.memoizedState=t:md(e,oe.memoizedState,t)},useTransition:function(){var t=qi(Mr)[0],e=qe().memoizedState;return[t,e]},useMutableSource:td,useSyncExternalStore:nd,useId:gd,unstable_isNewReconciler:!1};function Ve(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $o(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:X({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ui={isMounted:function(t){return(t=t._reactInternals)?an(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),s=At(t),i=dt(r,s);i.payload=e,n!=null&&(i.callback=n),e=It(t,i,s),e!==null&&(Ye(e,t,s,r),Ss(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),s=At(t),i=dt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=It(t,i,s),e!==null&&(Ye(e,t,s,r),Ss(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=At(t),s=dt(n,r);s.tag=2,e!=null&&(s.callback=e),e=It(t,s,r),e!==null&&(Ye(e,t,r,n),Ss(e,t,r))}};function Ja(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Nr(n,r)||!Nr(s,i):!0}function _d(t,e,n){var r=!1,s=Mt,i=e.contextType;return typeof i=="object"&&i!==null?i=We(i):(s=Pe(e)?tn:we.current,r=e.contextTypes,i=(r=r!=null)?Mn(t,s):Mt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ui,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qa(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ui.enqueueReplaceState(e,e.state,null)}function Lo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$l(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=We(i):(i=Pe(e)?tn:we.current,s.context=Mn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&($o(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ui.enqueueReplaceState(s,s.state,null),qs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fn(t,e){try{var n="",r=e;do n+=Yh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ep=typeof WeakMap=="function"?WeakMap:Map;function kd(t,e,n){n=dt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Js||(Js=!0,Ko=r),Mo(t,e)},n}function Sd(t,e,n){n=dt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Mo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mo(t,e),typeof r!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ya(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ep;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Up.bind(null,t,e,n),e.then(t,t))}function Xa(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Za(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dt(-1,1),e.tag=2,It(n,e,1))),n.lanes|=1),t)}var jp=gt.ReactCurrentOwner,Ce=!1;function _e(t,e,n,r){e.child=t===null?Yc(e,null,n,r):Un(e,t.child,n,r)}function eu(t,e,n,r,s){n=n.render;var i=e.ref;return An(e,s),r=zl(t,e,n,r,i,s),n=Fl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mt(t,e,s)):(J&&n&&Tl(e),e.flags|=1,_e(t,e,r,s),e.child)}function tu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Yl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,xd(t,e,i,r,s)):(t=Ts(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nr,n(o,r)&&t.ref===e.ref)return mt(t,e,s)}return e.flags|=1,t=$t(i,r),t.ref=e.ref,t.return=e,e.child=t}function xd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Nr(i,r)&&t.ref===e.ref)if(Ce=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ce=!0);else return e.lanes=t.lanes,mt(t,e,s)}return Do(t,e,n,r,s)}function bd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Pn,Oe),Oe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(Pn,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(Pn,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,V(Pn,Oe),Oe|=r;return _e(t,e,s,n),e.child}function Ed(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Do(t,e,n,r,s){var i=Pe(n)?tn:we.current;return i=Mn(e,i),An(e,s),n=zl(t,e,n,r,i,s),r=Fl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mt(t,e,s)):(J&&r&&Tl(e),e.flags|=1,_e(t,e,n,s),e.child)}function nu(t,e,n,r,s){if(Pe(n)){var i=!0;Us(e)}else i=!1;if(An(e,s),e.stateNode===null)Es(t,e),_d(e,n,r),Lo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Pe(n)?tn:we.current,c=Mn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Qa(e,o,r,c),St=!1;var m=e.memoizedState;o.state=m,qs(e,r,o,s),a=e.memoizedState,l!==r||m!==a||Te.current||St?(typeof d=="function"&&($o(e,n,d,r),a=e.memoizedState),(l=St||Ja(e,n,l,r,m,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zc(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Ve(e.type,l),o.props=c,h=e.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=We(a):(a=Pe(n)?tn:we.current,a=Mn(e,a));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==a)&&Qa(e,o,r,a),St=!1,m=e.memoizedState,o.state=m,qs(e,r,o,s);var y=e.memoizedState;l!==h||m!==y||Te.current||St?(typeof _=="function"&&($o(e,n,_,r),y=e.memoizedState),(c=St||Ja(e,n,c,r,m,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Uo(t,e,n,r,i,s)}function Uo(t,e,n,r,s,i){Ed(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Fa(e,n,!1),mt(t,e,i);r=e.stateNode,jp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Un(e,t.child,null,i),e.child=Un(e,null,l,i)):_e(t,e,l,i),e.memoizedState=r.state,s&&Fa(e,n,!0),e.child}function jd(t){var e=t.stateNode;e.pendingContext?za(t,e.pendingContext,e.pendingContext!==e.context):e.context&&za(t,e.context,!1),Ll(t,e.containerInfo)}function ru(t,e,n,r,s){return Dn(),Nl(s),e.flags|=256,_e(t,e,n,r),e.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Fo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cd(t,e,n){var r=e.pendingProps,s=Q.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(Q,s&1),t===null)return Ro(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hi(o,r,0,null),t=en(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fo(n),e.memoizedState=zo,t):ql(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Cp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=$t(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=$t(l,i):(i=en(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Fo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=zo,r}return i=t.child,t=i.sibling,r=$t(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ql(t,e){return e=hi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cs(t,e,n,r){return r!==null&&Nl(r),Un(e,t.child,null,n),t=ql(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hi(Error(T(422))),cs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=hi({mode:"visible",children:r.children},s,0,null),i=en(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Un(e,t.child,null,o),e.child.memoizedState=Fo(o),e.memoizedState=zo,i);if(!(e.mode&1))return cs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(T(419)),r=Hi(i,r,void 0),cs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ce||l){if(r=ce,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pt(t,s),Ye(r,t,s,-1))}return Ql(),r=Hi(Error(T(421))),cs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ie=Ot(s.nextSibling),Re=e,J=!0,Je=null,t!==null&&(De[Ue++]=ut,De[Ue++]=ct,De[Ue++]=nn,ut=t.id,ct=t.overflow,nn=e),e=ql(e,r.children),e.flags|=4096,e)}function su(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ao(t.return,e,n)}function Vi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Td(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(_e(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&su(t,n,e);else if(t.tag===19)su(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(Q,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Hs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vi(e,!0,n,null,i);break;case"together":Vi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Es(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=$t(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$t(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Tp(t,e,n){switch(e.tag){case 3:jd(e),Dn();break;case 5:ed(e);break;case 1:Pe(e.type)&&Us(e);break;case 4:Ll(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;V(Bs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Cd(t,e,n):(V(Q,Q.current&1),t=mt(t,e,n),t!==null?t.sibling:null);V(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Td(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,bd(t,e,n)}return mt(t,e,n)}var Pd,Bo,Nd,Od;Pd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bo=function(){};Nd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xt(it.current);var i=null;switch(n){case"input":s=uo(t,s),r=uo(t,r),i=[];break;case"select":s=X({},s,{value:void 0}),r=X({},r,{value:void 0}),i=[];break;case"textarea":s=fo(t,s),r=fo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ms)}mo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&K("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Od=function(t,e,n,r){n!==r&&(e.flags|=4)};function nr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Pp(t,e,n){var r=e.pendingProps;switch(Pl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return Pe(e.type)&&Ds(),ge(e),null;case 3:return r=e.stateNode,zn(),G(Te),G(we),Dl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(as(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Je!==null&&(Qo(Je),Je=null))),Bo(t,e),ge(e),null;case 5:Ml(e);var s=Xt($r.current);if(n=e.type,t!==null&&e.stateNode!=null)Nd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return ge(e),null}if(t=Xt(it.current),as(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rt]=e,r[Rr]=i,t=(e.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<ur.length;s++)K(ur[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":fa(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":ma(r,i),K("invalid",r)}mo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ls(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ls(r.textContent,l,t),s=["children",""+l]):xr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":Zr(r),pa(r,i,!0);break;case"textarea":Zr(r),ga(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ms)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ic(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rt]=e,t[Rr]=r,Pd(t,e,!1,!1),e.stateNode=t;e:{switch(o=go(n,r),n){case"dialog":K("cancel",t),K("close",t),s=r;break;case"iframe":case"object":case"embed":K("load",t),s=r;break;case"video":case"audio":for(s=0;s<ur.length;s++)K(ur[s],t);s=r;break;case"source":K("error",t),s=r;break;case"img":case"image":case"link":K("error",t),K("load",t),s=r;break;case"details":K("toggle",t),s=r;break;case"input":fa(t,r),s=uo(t,r),K("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=X({},r,{value:void 0}),K("invalid",t);break;case"textarea":ma(t,r),s=fo(t,r),K("invalid",t);break;default:s=r}mo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?ac(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&oc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&br(t,a):typeof a=="number"&&br(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&K("scroll",t):a!=null&&pl(t,i,a,o))}switch(n){case"input":Zr(t),pa(t,r,!1);break;case"textarea":Zr(t),ga(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Nn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Nn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ms)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ge(e),null;case 6:if(t&&e.stateNode!=null)Od(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=Xt($r.current),Xt(it.current),as(e)){if(r=e.stateNode,n=e.memoizedProps,r[rt]=e,(i=r.nodeValue!==n)&&(t=Re,t!==null))switch(t.tag){case 3:ls(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ls(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rt]=e,e.stateNode=r}return ge(e),null;case 13:if(G(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ie!==null&&e.mode&1&&!(e.flags&128))Jc(),Dn(),e.flags|=98560,i=!1;else if(i=as(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[rt]=e}else Dn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),i=!1}else Je!==null&&(Qo(Je),Je=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?le===0&&(le=3):Ql())),e.updateQueue!==null&&(e.flags|=4),ge(e),null);case 4:return zn(),Bo(t,e),t===null&&Or(e.stateNode.containerInfo),ge(e),null;case 10:return Rl(e.type._context),ge(e),null;case 17:return Pe(e.type)&&Ds(),ge(e),null;case 19:if(G(Q),i=e.memoizedState,i===null)return ge(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)nr(i,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hs(t),o!==null){for(e.flags|=128,nr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>Bn&&(e.flags|=128,r=!0,nr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Hs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ge(e),null}else 2*ne()-i.renderingStartTime>Bn&&n!==1073741824&&(e.flags|=128,r=!0,nr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,n=Q.current,V(Q,r?n&1|2:n&1),e):(ge(e),null);case 22:case 23:return Jl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oe&1073741824&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Np(t,e){switch(Pl(e),e.tag){case 1:return Pe(e.type)&&Ds(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zn(),G(Te),G(we),Dl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ml(e),null;case 13:if(G(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Dn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(Q),null;case 4:return zn(),null;case 10:return Rl(e.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var ds=!1,ve=!1,Op=typeof WeakSet=="function"?WeakSet:Set,O=null;function Tn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(t,e,r)}else n.current=null}function Wo(t,e,n){try{n()}catch(r){Z(t,e,r)}}var iu=!1;function Ip(t,e){if(jo=As,t=Lc(),Cl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var _;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)m=h,h=_;for(;;){if(h===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(a=o),(_=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Co={focusedElem:t,selectionRange:n},As=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var k=y.memoizedProps,j=y.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?k:Ve(e.type,k),j);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(v){Z(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return y=iu,iu=!1,y}function vr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wo(e,n,i)}s=s.next}while(s!==r)}}function ci(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Id(t){var e=t.alternate;e!==null&&(t.alternate=null,Id(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rt],delete e[Rr],delete e[No],delete e[pp],delete e[mp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rd(t){return t.tag===5||t.tag===3||t.tag===4}function ou(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ho(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ms));else if(r!==4&&(t=t.child,t!==null))for(Ho(t,e,n),t=t.sibling;t!==null;)Ho(t,e,n),t=t.sibling}function Vo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vo(t,e,n),t=t.sibling;t!==null;)Vo(t,e,n),t=t.sibling}var de=null,Ke=!1;function vt(t,e,n){for(n=n.child;n!==null;)Ad(t,e,n),n=n.sibling}function Ad(t,e,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(ni,n)}catch{}switch(n.tag){case 5:ve||Tn(n,e);case 6:var r=de,s=Ke;de=null,vt(t,e,n),de=r,Ke=s,de!==null&&(Ke?(t=de,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Ke?(t=de,n=n.stateNode,t.nodeType===8?Ui(t.parentNode,n):t.nodeType===1&&Ui(t,n),Tr(t)):Ui(de,n.stateNode));break;case 4:r=de,s=Ke,de=n.stateNode.containerInfo,Ke=!0,vt(t,e,n),de=r,Ke=s;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wo(n,e,o),s=s.next}while(s!==r)}vt(t,e,n);break;case 1:if(!ve&&(Tn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Z(n,e,l)}vt(t,e,n);break;case 21:vt(t,e,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,vt(t,e,n),ve=r):vt(t,e,n);break;default:vt(t,e,n)}}function lu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Op),e.forEach(function(r){var s=Fp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function He(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,Ke=!1;break e;case 3:de=l.stateNode.containerInfo,Ke=!0;break e;case 4:de=l.stateNode.containerInfo,Ke=!0;break e}l=l.return}if(de===null)throw Error(T(160));Ad(i,o,s),de=null,Ke=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Z(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$d(e,t),e=e.sibling}function $d(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),Ze(t),r&4){try{vr(3,t,t.return),ci(3,t)}catch(k){Z(t,t.return,k)}try{vr(5,t,t.return)}catch(k){Z(t,t.return,k)}}break;case 1:He(e,t),Ze(t),r&512&&n!==null&&Tn(n,n.return);break;case 5:if(He(e,t),Ze(t),r&512&&n!==null&&Tn(n,n.return),t.flags&32){var s=t.stateNode;try{br(s,"")}catch(k){Z(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rc(s,i),go(l,o);var c=go(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?ac(s,h):d==="dangerouslySetInnerHTML"?oc(s,h):d==="children"?br(s,h):pl(s,d,h,c)}switch(l){case"input":co(s,i);break;case"textarea":sc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Nn(s,!!i.multiple,_,!1):m!==!!i.multiple&&(i.defaultValue!=null?Nn(s,!!i.multiple,i.defaultValue,!0):Nn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rr]=i}catch(k){Z(t,t.return,k)}}break;case 6:if(He(e,t),Ze(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){Z(t,t.return,k)}}break;case 3:if(He(e,t),Ze(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(e.containerInfo)}catch(k){Z(t,t.return,k)}break;case 4:He(e,t),Ze(t);break;case 13:He(e,t),Ze(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kl=ne())),r&4&&lu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ve=(c=ve)||d,He(e,t),ve=c):He(e,t),Ze(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(m=O,_=m.child,m.tag){case 0:case 11:case 14:case 15:vr(4,m,m.return);break;case 1:Tn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(k){Z(r,n,k)}}break;case 5:Tn(m,m.return);break;case 22:if(m.memoizedState!==null){uu(h);continue}}_!==null?(_.return=m,O=_):uu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=lc("display",o))}catch(k){Z(t,t.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){Z(t,t.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:He(e,t),Ze(t),r&4&&lu(t);break;case 21:break;default:He(e,t),Ze(t)}}function Ze(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rd(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(br(s,""),r.flags&=-33);var i=ou(t);Vo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ou(t);Ho(t,l,o);break;default:throw Error(T(161))}}catch(a){Z(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rp(t,e,n){O=t,Ld(t)}function Ld(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ds;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ve;l=ds;var c=ve;if(ds=o,(ve=a)&&!c)for(O=s;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?cu(s):a!==null?(a.return=o,O=a):cu(s);for(;i!==null;)O=i,Ld(i),i=i.sibling;O=s,ds=l,ve=c}au(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):au(t)}}function au(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ve||ci(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ve)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ve(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Va(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Va(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Tr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}ve||e.flags&512&&qo(e)}catch(m){Z(e,e.return,m)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function uu(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function cu(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ci(4,e)}catch(a){Z(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Z(e,s,a)}}var i=e.return;try{qo(e)}catch(a){Z(e,i,a)}break;case 5:var o=e.return;try{qo(e)}catch(a){Z(e,o,a)}}}catch(a){Z(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Ap=Math.ceil,Gs=gt.ReactCurrentDispatcher,Hl=gt.ReactCurrentOwner,Fe=gt.ReactCurrentBatchConfig,z=0,ce=null,se=null,he=0,Oe=0,Pn=Ut(0),le=0,Ur=null,sn=0,di=0,Vl=0,yr=null,Ee=null,Kl=0,Bn=1/0,ot=null,Js=!1,Ko=null,Rt=null,hs=!1,Ct=null,Qs=0,wr=0,Go=null,js=-1,Cs=0;function ke(){return z&6?ne():js!==-1?js:js=ne()}function At(t){return t.mode&1?z&2&&he!==0?he&-he:vp.transition!==null?(Cs===0&&(Cs=_c()),Cs):(t=q,t!==0||(t=window.event,t=t===void 0?16:Cc(t.type)),t):1}function Ye(t,e,n,r){if(50<wr)throw wr=0,Go=null,Error(T(185));Br(t,n,r),(!(z&2)||t!==ce)&&(t===ce&&(!(z&2)&&(di|=n),le===4&&bt(t,he)),Ne(t,r),n===1&&z===0&&!(e.mode&1)&&(Bn=ne()+500,li&&zt()))}function Ne(t,e){var n=t.callbackNode;vf(t,e);var r=Rs(t,t===ce?he:0);if(r===0)n!==null&&wa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wa(n),e===1)t.tag===0?gp(du.bind(null,t)):Vc(du.bind(null,t)),hp(function(){!(z&6)&&zt()}),n=null;else{switch(kc(r)){case 1:n=wl;break;case 4:n=yc;break;case 16:n=Is;break;case 536870912:n=wc;break;default:n=Is}n=qd(n,Md.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Md(t,e){if(js=-1,Cs=0,z&6)throw Error(T(327));var n=t.callbackNode;if($n()&&t.callbackNode!==n)return null;var r=Rs(t,t===ce?he:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ys(t,r);else{e=r;var s=z;z|=2;var i=Ud();(ce!==t||he!==e)&&(ot=null,Bn=ne()+500,Zt(t,e));do try{Mp();break}catch(l){Dd(t,l)}while(!0);Il(),Gs.current=i,z=s,se!==null?e=0:(ce=null,he=0,e=le)}if(e!==0){if(e===2&&(s=ko(t),s!==0&&(r=s,e=Jo(t,s))),e===1)throw n=Ur,Zt(t,0),bt(t,r),Ne(t,ne()),n;if(e===6)bt(t,r);else{if(s=t.current.alternate,!(r&30)&&!$p(s)&&(e=Ys(t,r),e===2&&(i=ko(t),i!==0&&(r=i,e=Jo(t,i))),e===1))throw n=Ur,Zt(t,0),bt(t,r),Ne(t,ne()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:Kt(t,Ee,ot);break;case 3:if(bt(t,r),(r&130023424)===r&&(e=Kl+500-ne(),10<e)){if(Rs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Po(Kt.bind(null,t,Ee,ot),e);break}Kt(t,Ee,ot);break;case 4:if(bt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Qe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ap(r/1960))-r,10<r){t.timeoutHandle=Po(Kt.bind(null,t,Ee,ot),r);break}Kt(t,Ee,ot);break;case 5:Kt(t,Ee,ot);break;default:throw Error(T(329))}}}return Ne(t,ne()),t.callbackNode===n?Md.bind(null,t):null}function Jo(t,e){var n=yr;return t.current.memoizedState.isDehydrated&&(Zt(t,e).flags|=256),t=Ys(t,e),t!==2&&(e=Ee,Ee=n,e!==null&&Qo(e)),t}function Qo(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function $p(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xe(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bt(t,e){for(e&=~Vl,e&=~di,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qe(e),r=1<<n;t[n]=-1,e&=~r}}function du(t){if(z&6)throw Error(T(327));$n();var e=Rs(t,0);if(!(e&1))return Ne(t,ne()),null;var n=Ys(t,e);if(t.tag!==0&&n===2){var r=ko(t);r!==0&&(e=r,n=Jo(t,r))}if(n===1)throw n=Ur,Zt(t,0),bt(t,e),Ne(t,ne()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kt(t,Ee,ot),Ne(t,ne()),null}function Gl(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(Bn=ne()+500,li&&zt())}}function on(t){Ct!==null&&Ct.tag===0&&!(z&6)&&$n();var e=z;z|=1;var n=Fe.transition,r=q;try{if(Fe.transition=null,q=1,t)return t()}finally{q=r,Fe.transition=n,z=e,!(z&6)&&zt()}}function Jl(){Oe=Pn.current,G(Pn)}function Zt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dp(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(Pl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ds();break;case 3:zn(),G(Te),G(we),Dl();break;case 5:Ml(r);break;case 4:zn();break;case 13:G(Q);break;case 19:G(Q);break;case 10:Rl(r.type._context);break;case 22:case 23:Jl()}n=n.return}if(ce=t,se=t=$t(t.current,null),he=Oe=e,le=0,Ur=null,Vl=di=sn=0,Ee=yr=null,Yt!==null){for(e=0;e<Yt.length;e++)if(n=Yt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Yt=null}return t}function Dd(t,e){do{var n=se;try{if(Il(),xs.current=Ks,Vs){for(var r=Y.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vs=!1}if(rn=0,ue=oe=Y=null,gr=!1,Lr=0,Hl.current=null,n===null||n.return===null){le=1,Ur=e,se=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=he,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Xa(o);if(_!==null){_.flags&=-257,Za(_,o,l,i,e),_.mode&1&&Ya(i,c,e),e=_,a=c;var y=e.updateQueue;if(y===null){var k=new Set;k.add(a),e.updateQueue=k}else y.add(a);break e}else{if(!(e&1)){Ya(i,c,e),Ql();break e}a=Error(T(426))}}else if(J&&l.mode&1){var j=Xa(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Za(j,o,l,i,e),Nl(Fn(a,l));break e}}i=a=Fn(a,l),le!==4&&(le=2),yr===null?yr=[i]:yr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=kd(i,a,e);Ha(i,g);break e;case 1:l=a;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Rt===null||!Rt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=Sd(i,l,e);Ha(i,v);break e}}i=i.return}while(i!==null)}Fd(n)}catch(E){e=E,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function Ud(){var t=Gs.current;return Gs.current=Ks,t===null?Ks:t}function Ql(){(le===0||le===3||le===2)&&(le=4),ce===null||!(sn&268435455)&&!(di&268435455)||bt(ce,he)}function Ys(t,e){var n=z;z|=2;var r=Ud();(ce!==t||he!==e)&&(ot=null,Zt(t,e));do try{Lp();break}catch(s){Dd(t,s)}while(!0);if(Il(),z=n,Gs.current=r,se!==null)throw Error(T(261));return ce=null,he=0,le}function Lp(){for(;se!==null;)zd(se)}function Mp(){for(;se!==null&&!af();)zd(se)}function zd(t){var e=Wd(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Fd(t):se=e,Hl.current=null}function Fd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Np(n,e),n!==null){n.flags&=32767,se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,se=null;return}}else if(n=Pp(n,e,Oe),n!==null){se=n;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);le===0&&(le=5)}function Kt(t,e,n){var r=q,s=Fe.transition;try{Fe.transition=null,q=1,Dp(t,e,n,r)}finally{Fe.transition=s,q=r}return null}function Dp(t,e,n,r){do $n();while(Ct!==null);if(z&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(yf(t,i),t===ce&&(se=ce=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,qd(Is,function(){return $n(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fe.transition,Fe.transition=null;var o=q;q=1;var l=z;z|=4,Hl.current=null,Ip(t,n),$d(n,t),sp(Co),As=!!jo,Co=jo=null,t.current=n,Rp(n),uf(),z=l,q=o,Fe.transition=i}else t.current=n;if(hs&&(hs=!1,Ct=t,Qs=s),i=t.pendingLanes,i===0&&(Rt=null),hf(n.stateNode),Ne(t,ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Js)throw Js=!1,t=Ko,Ko=null,t;return Qs&1&&t.tag!==0&&$n(),i=t.pendingLanes,i&1?t===Go?wr++:(wr=0,Go=t):wr=0,zt(),null}function $n(){if(Ct!==null){var t=kc(Qs),e=Fe.transition,n=q;try{if(Fe.transition=null,q=16>t?16:t,Ct===null)var r=!1;else{if(t=Ct,Ct=null,Qs=0,z&6)throw Error(T(331));var s=z;for(z|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:vr(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var m=d.sibling,_=d.return;if(Id(d),d===c){O=null;break}if(m!==null){m.return=_,O=m;break}O=_}}}var y=i.alternate;if(y!==null){var k=y.child;if(k!==null){y.child=null;do{var j=k.sibling;k.sibling=null,k=j}while(k!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var f=t.current;for(O=f;O!==null;){o=O;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,O=p;else e:for(o=f;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ci(9,l)}}catch(E){Z(l,l.return,E)}if(l===o){O=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,O=v;break e}O=l.return}}if(z=s,zt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(ni,t)}catch{}r=!0}return r}finally{q=n,Fe.transition=e}}return!1}function hu(t,e,n){e=Fn(n,e),e=kd(t,e,1),t=It(t,e,1),e=ke(),t!==null&&(Br(t,1,e),Ne(t,e))}function Z(t,e,n){if(t.tag===3)hu(t,t,n);else for(;e!==null;){if(e.tag===3){hu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rt===null||!Rt.has(r))){t=Fn(n,t),t=Sd(e,t,1),e=It(e,t,1),t=ke(),e!==null&&(Br(e,1,t),Ne(e,t));break}}e=e.return}}function Up(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,ce===t&&(he&n)===n&&(le===4||le===3&&(he&130023424)===he&&500>ne()-Kl?Zt(t,0):Vl|=n),Ne(t,e)}function Bd(t,e){e===0&&(t.mode&1?(e=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):e=1);var n=ke();t=pt(t,e),t!==null&&(Br(t,e,n),Ne(t,n))}function zp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bd(t,n)}function Fp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),Bd(t,n)}var Wd;Wd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Ce=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ce=!1,Tp(t,e,n);Ce=!!(t.flags&131072)}else Ce=!1,J&&e.flags&1048576&&Kc(e,Fs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Es(t,e),t=e.pendingProps;var s=Mn(e,we.current);An(e,n),s=zl(null,e,r,t,s,n);var i=Fl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(r)?(i=!0,Us(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$l(e),s.updater=ui,e.stateNode=s,s._reactInternals=e,Lo(e,r,t,n),e=Uo(null,e,r,!0,i,n)):(e.tag=0,J&&i&&Tl(e),_e(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Es(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Wp(r),t=Ve(r,t),s){case 0:e=Do(null,e,r,t,n);break e;case 1:e=nu(null,e,r,t,n);break e;case 11:e=eu(null,e,r,t,n);break e;case 14:e=tu(null,e,r,Ve(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),Do(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),nu(t,e,r,s,n);case 3:e:{if(jd(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Zc(t,e),qs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Fn(Error(T(423)),e),e=ru(t,e,r,n,s);break e}else if(r!==s){s=Fn(Error(T(424)),e),e=ru(t,e,r,n,s);break e}else for(Ie=Ot(e.stateNode.containerInfo.firstChild),Re=e,J=!0,Je=null,n=Yc(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dn(),r===s){e=mt(t,e,n);break e}_e(t,e,r,n)}e=e.child}return e;case 5:return ed(e),t===null&&Ro(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,To(r,s)?o=null:i!==null&&To(r,i)&&(e.flags|=32),Ed(t,e),_e(t,e,o,n),e.child;case 6:return t===null&&Ro(e),null;case 13:return Cd(t,e,n);case 4:return Ll(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Un(e,null,r,n):_e(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),eu(t,e,r,s,n);case 7:return _e(t,e,e.pendingProps,n),e.child;case 8:return _e(t,e,e.pendingProps.children,n),e.child;case 12:return _e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(Bs,r._currentValue),r._currentValue=o,i!==null)if(Xe(i.value,o)){if(i.children===s.children&&!Te.current){e=mt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=dt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ao(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ao(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,An(e,n),s=We(s),r=r(s),e.flags|=1,_e(t,e,r,n),e.child;case 14:return r=e.type,s=Ve(r,e.pendingProps),s=Ve(r.type,s),tu(t,e,r,s,n);case 15:return xd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),Es(t,e),e.tag=1,Pe(r)?(t=!0,Us(e)):t=!1,An(e,n),_d(e,r,s),Lo(e,r,s,n),Uo(null,e,r,!0,t,n);case 19:return Td(t,e,n);case 22:return bd(t,e,n)}throw Error(T(156,e.tag))};function qd(t,e){return vc(t,e)}function Bp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(t,e,n,r){return new Bp(t,e,n,r)}function Yl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wp(t){if(typeof t=="function")return Yl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gl)return 11;if(t===vl)return 14}return 2}function $t(t,e){var n=t.alternate;return n===null?(n=ze(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ts(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Yl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wn:return en(n.children,s,i,e);case ml:o=8,s|=8;break;case io:return t=ze(12,n,e,s|2),t.elementType=io,t.lanes=i,t;case oo:return t=ze(13,n,e,s),t.elementType=oo,t.lanes=i,t;case lo:return t=ze(19,n,e,s),t.elementType=lo,t.lanes=i,t;case ec:return hi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xu:o=10;break e;case Zu:o=9;break e;case gl:o=11;break e;case vl:o=14;break e;case kt:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=ze(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function en(t,e,n,r){return t=ze(7,t,r,e),t.lanes=n,t}function hi(t,e,n,r){return t=ze(22,t,r,e),t.elementType=ec,t.lanes=n,t.stateNode={isHidden:!1},t}function Ki(t,e,n){return t=ze(6,t,null,e),t.lanes=n,t}function Gi(t,e,n){return e=ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xl(t,e,n,r,s,i,o,l,a){return t=new qp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ze(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(i),t}function Hp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Hd(t){if(!t)return Mt;t=t._reactInternals;e:{if(an(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(Pe(n))return Hc(t,n,e)}return e}function Vd(t,e,n,r,s,i,o,l,a){return t=Xl(n,r,!0,t,s,i,o,l,a),t.context=Hd(null),n=t.current,r=ke(),s=At(n),i=dt(r,s),i.callback=e??null,It(n,i,s),t.current.lanes=s,Br(t,s,r),Ne(t,r),t}function fi(t,e,n,r){var s=e.current,i=ke(),o=At(s);return n=Hd(n),e.context===null?e.context=n:e.pendingContext=n,e=dt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=It(s,e,o),t!==null&&(Ye(t,s,o,i),Ss(t,s,o)),o}function Xs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zl(t,e){fu(t,e),(t=t.alternate)&&fu(t,e)}function Vp(){return null}var Kd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ea(t){this._internalRoot=t}pi.prototype.render=ea.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));fi(t,e,null,null)};pi.prototype.unmount=ea.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;on(function(){fi(null,t,null,null)}),e[ft]=null}};function pi(t){this._internalRoot=t}pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=bc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xt.length&&e!==0&&e<xt[n].priority;n++);xt.splice(n,0,t),n===0&&jc(t)}};function ta(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pu(){}function Kp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xs(o);i.call(c)}}var o=Vd(e,r,t,0,null,!1,!1,"",pu);return t._reactRootContainer=o,t[ft]=o.current,Or(t.nodeType===8?t.parentNode:t),on(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Xs(a);l.call(c)}}var a=Xl(t,0,!1,null,null,!1,!1,"",pu);return t._reactRootContainer=a,t[ft]=a.current,Or(t.nodeType===8?t.parentNode:t),on(function(){fi(e,a,n,r)}),a}function gi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Xs(o);l.call(a)}}fi(e,o,t,s)}else o=Kp(n,e,t,s,r);return Xs(o)}Sc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ar(e.pendingLanes);n!==0&&(_l(e,n|1),Ne(e,ne()),!(z&6)&&(Bn=ne()+500,zt()))}break;case 13:on(function(){var r=pt(t,1);if(r!==null){var s=ke();Ye(r,t,1,s)}}),Zl(t,1)}};kl=function(t){if(t.tag===13){var e=pt(t,134217728);if(e!==null){var n=ke();Ye(e,t,134217728,n)}Zl(t,134217728)}};xc=function(t){if(t.tag===13){var e=At(t),n=pt(t,e);if(n!==null){var r=ke();Ye(n,t,e,r)}Zl(t,e)}};bc=function(){return q};Ec=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};yo=function(t,e,n){switch(e){case"input":if(co(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=oi(r);if(!s)throw Error(T(90));nc(r),co(r,s)}}}break;case"textarea":sc(t,n);break;case"select":e=n.value,e!=null&&Nn(t,!!n.multiple,e,!1)}};dc=Gl;hc=on;var Gp={usingClientEntryPoint:!1,Events:[qr,xn,oi,uc,cc,Gl]},rr={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jp={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mc(t),t===null?null:t.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||Vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fs.isDisabled&&fs.supportsFiber)try{ni=fs.inject(Jp),st=fs}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gp;$e.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ta(e))throw Error(T(200));return Hp(t,e,null,n)};$e.createRoot=function(t,e){if(!ta(t))throw Error(T(299));var n=!1,r="",s=Kd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xl(t,1,!1,null,null,n,!1,r,s),t[ft]=e.current,Or(t.nodeType===8?t.parentNode:t),new ea(e)};$e.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=mc(e),t=t===null?null:t.stateNode,t};$e.flushSync=function(t){return on(t)};$e.hydrate=function(t,e,n){if(!mi(e))throw Error(T(200));return gi(null,t,e,!0,n)};$e.hydrateRoot=function(t,e,n){if(!ta(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Kd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Vd(e,null,t,1,n??null,s,!1,i,o),t[ft]=e.current,Or(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pi(e)};$e.render=function(t,e,n){if(!mi(e))throw Error(T(200));return gi(null,t,e,!1,n)};$e.unmountComponentAtNode=function(t){if(!mi(t))throw Error(T(40));return t._reactRootContainer?(on(function(){gi(null,null,t,!1,function(){t._reactRootContainer=null,t[ft]=null})}),!0):!1};$e.unstable_batchedUpdates=Gl;$e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mi(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return gi(t,e,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(t){console.error(t)}}Gd(),Gu.exports=$e;var Qp=Gu.exports,Jd,mu=Qp;Jd=mu.createRoot,mu.hydrateRoot;const Yp="modulepreload",Xp=function(t){return"/"+t},gu={},Vr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Xp(a),a in gu)return;gu[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Yp,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,_)=>{h.addEventListener("load",m),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Zp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vr(async()=>{const{default:r}=await Promise.resolve().then(()=>Kn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class na extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class vu extends na{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yu extends na{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wu extends na{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yo||(Yo={}));var em=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class tm{constructor(e,{headers:n={},customFetch:r,region:s=Yo.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Zp(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return em(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o,signal:l}=n;let a={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(a["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const m=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:h,signal:l}).catch(j=>{throw j.name==="AbortError"?j:new vu(j)}),_=m.headers.get("x-relay-error");if(_&&_==="true")throw new yu(m);if(!m.ok)throw new wu(m);let y=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),k;return y==="application/json"?k=yield m.json():y==="application/octet-stream"?k=yield m.blob():y==="text/event-stream"?k=m:y==="multipart/form-data"?k=yield m.formData():k=yield m.text(),{data:k,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new vu(s)}:{data:null,error:s,response:s instanceof wu||s instanceof yu?s.context:void 0}}})}}var je={},ra={},vi={},Kr={},yi={},wi={},nm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wn=nm();const rm=Wn.fetch,Qd=Wn.fetch.bind(Wn),Yd=Wn.Headers,sm=Wn.Request,im=Wn.Response,Kn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yd,Request:sm,Response:im,default:Qd,fetch:rm},Symbol.toStringTag,{value:"Module"})),om=xh(Kn);var _i={};Object.defineProperty(_i,"__esModule",{value:!0});let lm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};_i.default=lm;var Xd=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const am=Xd(om),um=Xd(_i);let cm=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=am.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,c;let d=null,h=null,m=null,_=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");j&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,_=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,_=200,y="OK")}catch{i.status===404&&j===""?(_=204,y="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,_=200,y="OK"),d&&this.shouldThrowOnError)throw new um.default(d)}return{error:d,data:h,count:m,status:_,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};wi.default=cm;var dm=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});const hm=dm(wi);let fm=class extends hm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};yi.default=fm;var pm=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});const mm=pm(yi);let gm=class extends mm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Kr.default=gm;var vm=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vi,"__esModule",{value:!0});const sr=vm(Kr);let ym=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new sr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new sr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new sr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};vi.default=ym;var Zd=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});const wm=Zd(vi),_m=Zd(Kr);let km=class eh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new wm.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new eh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{a.searchParams.append(h,m)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new _m.default({method:l,url:a,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ra.default=km;var Gn=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const th=Gn(ra);je.PostgrestClient=th.default;const nh=Gn(vi);je.PostgrestQueryBuilder=nh.default;const rh=Gn(Kr);je.PostgrestFilterBuilder=rh.default;const sh=Gn(yi);je.PostgrestTransformBuilder=sh.default;const ih=Gn(wi);je.PostgrestBuilder=ih.default;const oh=Gn(_i);je.PostgrestError=oh.default;var Sm=je.default={PostgrestClient:th.default,PostgrestQueryBuilder:nh.default,PostgrestFilterBuilder:rh.default,PostgrestTransformBuilder:sh.default,PostgrestBuilder:ih.default,PostgrestError:oh.default};const{PostgrestClient:xm,PostgrestQueryBuilder:Uv,PostgrestFilterBuilder:zv,PostgrestTransformBuilder:Fv,PostgrestBuilder:Bv,PostgrestError:Wv}=Sm;class bm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Em="2.15.5",jm=`realtime-js/${Em}`,Cm="1.0.0",Xo=1e4,Tm=1e3,Pm=100;var _r;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_r||(_r={}));var ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ie||(ie={}));var Ge;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ge||(Ge={}));var Zo;(function(t){t.websocket="websocket"})(Zo||(Zo={}));var Jt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jt||(Jt={}));class Nm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class lh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const _u=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Om(o,t,e,s),i),{})},Om=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?ah(i,o):el(o)},ah=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $m(e,n)}switch(t){case H.bool:return Im(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return Rm(e);case H.json:case H.jsonb:return Am(e);case H.timestamp:return Lm(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return el(e);default:return el(e)}},el=t=>t,Im=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Rm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Am=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$m=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ah(e,l))}return t},Lm=t=>typeof t=="string"?t.replace(" ","T"):t,uh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ji{constructor(e,n,r={},s=Xo){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ku;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ku||(ku={}));class kr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=kr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(j=>j.presence_ref),_=h.map(j=>j.presence_ref),y=d.filter(j=>_.indexOf(j.presence_ref)<0),k=h.filter(j=>m.indexOf(j.presence_ref)<0);y.length>0&&(l[c]=y),k.length>0&&(a[c]=k)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(_=>_.presence_ref),m=d.filter(_=>h.indexOf(_.presence_ref)<0);e[l].unshift(...m)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Su;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Su||(Su={}));var Sr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sr||(Sr={}));var lt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class sa{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ji(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new lh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new kr(this),this.broadcastEndpointURL=uh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Sr.PRESENCE]&&this.bindings[Sr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(lt.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(lt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var y;if(this.socket.setAuth(),_===void 0){e==null||e(lt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,j=(y=k==null?void 0:k.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<j;f++){const p=k[f],{filter:{event:v,schema:E,table:S,filter:C}}=p,x=_&&_[f];if(x&&x.event===v&&x.schema===E&&x.table===S&&x.filter===C)g.push(Object.assign(Object.assign({},p),{id:x.id}));else{this.unsubscribe(),this.state=ie.errored,e==null||e(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(lt.SUBSCRIBED);return}}).receive("error",_=>{this.state=ie.errored,e==null||e(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ie.joined&&e===Sr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ji(this,Ge.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ji(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Pm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Ge;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var y,k,j;return((y=_.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(k=_.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(_=>_.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var y,k,j,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const v=_.id,E=(y=_.filter)===null||y===void 0?void 0:y.event;return v&&((k=n.ids)===null||k===void 0?void 0:k.includes(v))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const v=(f=(g=_==null?void 0:_.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:k,table:j,commit_timestamp:g,type:f,errors:p}=y;m=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(y))}_.callback(m,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&sa.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_u(e.columns,e.old_record)),n}}const Qi=()=>{},ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mm=[1e3,2e3,5e3,1e4],Dm=1e4,Um=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zm{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xo,this.transport=null,this.heartbeatIntervalMs=ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qi,this.ref=0,this.reconnectTimer=null,this.logger=Qi,this.conn=null,this.sendBuffer=[],this.serializer=new Nm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Vr(async()=>{const{default:l}=await Promise.resolve().then(()=>Kn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Zo.websocket}`,this.httpEndpoint=uh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Cm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _r.connecting:return Jt.Connecting;case _r.open:return Jt.Open;case _r.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new sa(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Tm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Um],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:jm};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Xo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ps.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Qi,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>Mm[h-1]||Dm,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ia extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Fm extends ia{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tl extends ia{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Bm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const ch=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vr(async()=>{const{default:r}=await Promise.resolve().then(()=>Kn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Wm=()=>Bm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vr(()=>Promise.resolve().then(()=>Kn),void 0)).Response:Response}),nl=t=>{if(Array.isArray(t))return t.map(n=>nl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=nl(r)}),e},qm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var un=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Yi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hm=(t,e,n)=>un(void 0,void 0,void 0,function*(){const r=yield Wm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Fm(Yi(s),i,o))}).catch(s=>{e(new tl(Yi(s),s))}):e(new tl(Yi(t),t))}),Vm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(qm(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Gr(t,e,n,r,s,i){return un(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Vm(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Hm(a,l,r))})})}function Zs(t,e,n,r){return un(this,void 0,void 0,function*(){return Gr(t,"GET",e,n,r)})}function nt(t,e,n,r,s){return un(this,void 0,void 0,function*(){return Gr(t,"POST",e,r,s,n)})}function rl(t,e,n,r,s){return un(this,void 0,void 0,function*(){return Gr(t,"PUT",e,r,s,n)})}function Km(t,e,n,r){return un(this,void 0,void 0,function*(){return Gr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dh(t,e,n,r,s){return un(this,void 0,void 0,function*(){return Gr(t,"DELETE",e,r,s,n)})}var Gm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Jm{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Gm(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}}var Qm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Ym{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new Jm(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return Qm(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}}var be=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Xm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zm{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=ch(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return be(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},xu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?rl:nt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}upload(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:xu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield rl(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(re(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield nt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ia("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}update(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}copy(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield nt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return be(this,void 0,void 0,function*(){try{const s=yield nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),a=()=>Zs(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Ym(a,this.shouldThrowOnError)}info(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:nl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}exists(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Km(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r)&&r instanceof tl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return be(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}list(e,n,r){return be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Xm),n),{prefix:e||""});return{data:yield nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}listV2(e,n){return be(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const eg="2.12.2",tg={"X-Client-Info":`storage-js/${eg}`};var dn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class ng{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},tg),n),this.fetch=ch(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return dn(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return dn(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return dn(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return dn(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return dn(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return dn(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}}class rg extends ng{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Zm(this.url,this.headers,e,this.fetch)}}const sg="2.58.0";let cr="";typeof Deno<"u"?cr="deno":typeof document<"u"?cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cr="react-native":cr="node";const ig={"X-Client-Info":`supabase-js-${cr}/${sg}`},og={headers:ig},lg={schema:"public"},ag={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ug={};var cg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const dg=t=>{let e;return t?e=t:typeof fetch>"u"?e=Qd:e=fetch,(...n)=>e(...n)},hg=()=>typeof Headers>"u"?Yd:Headers,fg=(t,e,n)=>{const r=dg(n),s=hg();return(i,o)=>cg(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var pg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function mg(t){return t.endsWith("/")?t:t+"/"}function gg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>pg(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function vg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mg(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hh="2.72.0",gn=30*1e3,sl=3,Xi=sl*gn,yg="http://localhost:9999",wg="supabase.auth.token",_g={"X-Client-Info":`gotrue-js/${hh}`},il="X-Supabase-Api-Version",fh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sg=10*60*1e3;class oa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xg extends oa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bg(t){return A(t)&&t.name==="AuthApiError"}class ph extends oa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ft extends oa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class wt extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Eg(t){return A(t)&&t.name==="AuthSessionMissingError"}class ir extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ms extends Ft{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gs extends Ft{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jg(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class bu extends Ft{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ol extends Ft{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Zi(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Eu extends Ft{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ll extends Ft{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ju=` 	
\r=`.split(""),Cg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ju.length;e+=1)t[ju[e].charCodeAt(0)]=-2;for(let e=0;e<ei.length;e+=1)t[ei[e].charCodeAt(0)]=e;return t})();function Cu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ei[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ei[r]),e.queuedBits-=6}}function mh(t,e,n){const r=Cg[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Ng(o,r,n)};for(let o=0;o<t.length;o+=1)mh(t.charCodeAt(o),s,i);return e.join("")}function Tg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Pg(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Tg(r,e)}}function Ng(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Og(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)mh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Ig(t){const e=[];return Pg(t,n=>e.push(n)),new Uint8Array(e)}function Rg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Cu(s,n,r)),Cu(null,n,r),e.join("")}function Ag(t){return Math.round(Date.now()/1e3)+t}function $g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",qt={tested:!1,writable:!1},gh=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qt.tested)return qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qt.tested=!0,qt.writable=!0}catch{qt.tested=!0,qt.writable=!1}return qt.writable};function Lg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const vh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vr(async()=>{const{default:r}=await Promise.resolve().then(()=>Kn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Mg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ht=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yt=async(t,e)=>{await t.removeItem(e)};class ki{constructor(){this.promise=new ki.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ki.promiseConstructor=Promise;function eo(t){const e=t.split(".");if(e.length!==3)throw new ll("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kg.test(e[r]))throw new ll("JWT not in base64url format");return{header:JSON.parse(Tu(e[0])),payload:JSON.parse(Tu(e[1])),signature:Og(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ug(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function zg(t){return("0"+t.toString(16)).substr(-2)}function Fg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,zg).join("")}async function Bg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Wg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Bg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hn(t,e,n=!1){const r=Fg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await vn(t,`${e}-code-verifier`,s);const i=await Wg(r);return[i,r===i?"plain":"s256"]}const qg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hg(t){const e=t.headers.get(il);if(!e||!e.match(qg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Vg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Kg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fn(t){if(!Gg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function to(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pu(t){return JSON.parse(JSON.stringify(t))}var Jg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Gt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qg=[502,503,504];async function Nu(t){var e;if(!Mg(t))throw new ol(Gt(t),0);if(Qg.includes(t.status))throw new ol(Gt(t),t.status);let n;try{n=await t.json()}catch(i){throw new ph(Gt(i),i)}let r;const s=Hg(t);if(s&&s.getTime()>=fh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Eu(Gt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new wt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Eu(Gt(n),t.status,n.weak_password.reasons);throw new xg(Gt(n),t.status||500,r)}const Yg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function D(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[il]||(i[il]=fh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Xg(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Xg(t,e,n,r,s,i){const o=Yg(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new ol(Gt(a),0)}if(l.ok||await Nu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Nu(a)}}function et(t){var e;let n=null;nv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ag(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ou(t){const e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Zg(t){return{data:t,error:null}}function ev(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Jg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function tv(t){return t}function nv(t){return t.access_token&&t.refresh_token&&t.expires_in}const no=["global","local","others"];var rv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class sv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=no[0]){if(no.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${no.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Et})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rv(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ev,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Et})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tv});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return _.length>0&&(_.forEach(y=>{const k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);c[`${j}Page`]=k}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(A(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fn(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Et})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fn(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Et})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){fn(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Et})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fn(e.userId);try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fn(e.userId),fn(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}function Iu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function iv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pn={debug:!!(globalThis&&gh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ov extends yh{}async function lv(t,e,n){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ov(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function wh(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function av(t){return parseInt(t,16)}function uv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function cv(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:a,resources:c,scheme:d,uri:h,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=wh(t.address),y=d?`${d}://${r}`:r,k=t.statement?`${t.statement}
`:"",j=`${y} wants you to sign in with your Ethereum account:
${_}

${k}`;let g=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),a&&(g+=`
Request ID: ${a}`),c){let f=`
Resources:`;for(const p of c){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);f+=`
- ${p}`}g+=f}return`${j}
${g}`}iv();const dv={url:yg,storageKey:wg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_g,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ru(t,e,n){return await n()}const mn={};class zr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zr.nextInstanceID,zr.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vh(s.fetch),this.lock=s.lock||Ru,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Me()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lv:this.lock=Ru,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:gh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=mn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=mn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Lg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jg(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new ph("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:et}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let _=null,y=null;this.flowType==="pkce"&&([_,y]=await hn(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:_,code_challenge_method:y},xform:et})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:et})}else throw new ms("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ou})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ou})}else throw new ms("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ir}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,l,a,c,d,h,m;let _,y;if("message"in e)_=e.message,y=e.signature;else{const{chain:k,wallet:j,statement:g,options:f}=e;let p;if(Me())if(typeof j=="object")p=j;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")p=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=j}const v=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href),E=await p.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=wh(E[0]);let C=(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const I=await p.request({method:"eth_chainId"});C=av(I)}const x={domain:v.host,address:S,statement:g,uri:v.href,version:"1",chainId:C,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.notBefore,requestId:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=f==null?void 0:f.signInWithEthereum)===null||d===void 0?void 0:d.resources};_=cv(x),y=await p.request({method:"personal_sign",params:[uv(_),S]})}try{const{data:k,error:j}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:et});if(j)throw j;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ir}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:j})}catch(k){if(A(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,m,_;let y,k;if("message"in e)y=e.message,k=e.signature;else{const{chain:j,wallet:g,statement:f,options:p}=e;let v;if(Me())if(typeof g=="object")v=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))v=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const E=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in v&&v.signIn){const S=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),f?{statement:f}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),k=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await v.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=S}}try{const{data:j,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Rg(k)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:et});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new ir}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(A(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:et});if(await yt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ir}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:et}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ir}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await hn(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ms("You must provide either an email or phone number.")}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:et});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hn(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Zg})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new wt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ms("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Xi:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ht(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=to()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Et}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(n){if(A(n))return Eg(n)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new wt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await hn(this.storage,this.storageKey));const{data:c,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Et});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=eo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new wt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Me())throw new gs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new gs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;a&&(m=parseInt(a));const _=m-d;_*1e3<=gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${h}s`);const y=m-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:k,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(bg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=$g(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await hn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:m}=i;if(m)throw m;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",_,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Me()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ug(async s=>(s>0&&await Dg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zi(i)&&Date.now()+o-r<gn})}catch(r){if(this._debug(n,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Me()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ht(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ht(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await vn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:to()}else if(s&&!s.user&&!s.user){const o=await Ht(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await yt(this.storage,this.storageKey+"-user"),await vn(this.storage,this.storageKey,s)):s.user=to()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Xi;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Xi}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Zi(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ki;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),A(i)){const o={session:null,error:i};return Zi(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await vn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Pu(s);await vn(this.storage,this.storageKey,i)}else{const s=Pu(n);await vn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/gn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${gn}ms, refresh threshold is ${sl} ticks`),s<=sl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await hn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=eo(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Sg>s)return r;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:_,error:y}=await this.getSession();if(y||!_.session)return{data:null,error:y};r=_.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=eo(r);n!=null&&n.allowExpired||Vg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:s,signature:o},error:null}}const d=Kg(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Ig(`${l}.${a}`)))throw new ll("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}zr.nextInstanceID=0;const hv=zr;class fv extends hv{constructor(e){super(e)}}var pv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class mv{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=vg(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:lg,realtime:ug,auth:Object.assign(Object.assign({},ag),{storageKey:a}),global:og},d=gg(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=fg(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new xm(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new rg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new tm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return pv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fv({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gv=(t,e,n)=>new mv(t,e,n);function vv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}vv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");console.log("🔧 Supabase - Initialisation du client");const _h="https://opwjfpybcgtgcvldizar.supabase.co",kh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wd2pmcHliY2d0Z2N2bGRpemFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0OTQ5MTksImV4cCI6MjA3MzA3MDkxOX0.8yrYMlhFmjAF5_LG9FtCx8XrJ1sFOz2YejDDupbhgpY";console.log("🔑 Supabase - Configuration:",{url:`${_h.substring(0,30)}...`,key:`${kh.substring(0,30)}...`});console.log("✅ Supabase - Création du client");const ye=gv(_h,kh,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});console.log("🚀 Supabase - Client créé avec succès");const yv=["basic","football","handball","basket","hockey_ice","hockey_field","volleyball"],Au={name:"Match",sport:"basic",home_name:"HOME",away_name:"AWAY",home_logo:"",away_logo:"",date:"",time:""};function wv({user:t,org:e,matches:n,onMatchSelect:r,onMatchesUpdate:s,activeMatch:i}){console.log("🏠 SpacePage - Rendu avec:",{user:t==null?void 0:t.email,org:e==null?void 0:e.name,matchesCount:n.length,activeMatch:(i==null?void 0:i.name)||"Aucun"});const[o,l]=R.useState({type:"none",editingId:null}),[a,c]=R.useState(Au),[d,h]=R.useState({isSubmitting:!1,message:"",messageType:"info"}),{upcomingMatches:m,archivedMatches:_}=R.useMemo(()=>{const b=n.filter(W=>W.status==="scheduled"||W.status==="live").sort((W,pe)=>new Date(W.scheduled_at).getTime()-new Date(pe.scheduled_at).getTime()),L=n.filter(W=>W.status==="finished"||W.status==="archived").sort((W,pe)=>new Date(pe.scheduled_at).getTime()-new Date(W.scheduled_at).getTime());return{upcomingMatches:b,archivedMatches:L}},[n]),y=R.useCallback((b,L="info")=>{h(W=>({...W,message:b,messageType:L})),b&&setTimeout(()=>{h(W=>({...W,message:""}))},L==="success"?2e3:5e3)},[]),k=R.useCallback(()=>{c(Au),h(b=>({...b,message:""}))},[]),j=R.useCallback(()=>{k(),l({type:"create",editingId:null})},[k]),g=R.useCallback(b=>{const L=new Date(b.scheduled_at);c({name:b.name,sport:b.sport,home_name:b.home_name,away_name:b.away_name,home_logo:b.home_logo||"",away_logo:b.away_logo||"",date:L.toISOString().split("T")[0],time:L.toTimeString().substring(0,5)}),l({type:"edit",editingId:b.id}),h(W=>({...W,message:""}))},[]),f=R.useCallback(()=>{d.isSubmitting||(l({type:"none",editingId:null}),k())},[d.isSubmitting,k]),p=R.useCallback((b,L)=>{c(W=>({...W,[b]:L}))},[]),v=R.useCallback((b,L)=>{if(!b)return;if(!b.type.startsWith("image/")){y("Veuillez sélectionner un fichier image","error");return}if(b.size>2*1024*1024){y("L'image doit faire moins de 2MB","error");return}const W=new FileReader;W.onload=pe=>{var N;const Jn=(N=pe.target)==null?void 0:N.result;p(L==="home"?"home_logo":"away_logo",Jn)},W.readAsDataURL(b)},[p,y]),E=R.useCallback(b=>{p(b==="home"?"home_logo":"away_logo","")},[p]),S=R.useCallback(()=>{if(!a.date)return new Date().toISOString();const b=(a.time||"00:00").split(":");return new Date(`${a.date}T${b[0].padStart(2,"0")}:${(b[1]||"00").padStart(2,"0")}:00`).toISOString()},[a.date,a.time]),C=R.useCallback(async()=>{if(!e){y("Veuillez sélectionner un espace d'abord","error");return}if(!a.name.trim()){y("Le nom du match est requis","error");return}h(b=>({...b,isSubmitting:!0})),y("Création en cours...","info");try{const b=Math.random().toString(36).substring(2,15),{data:L,error:W}=await ye.from("matches").insert({org_id:e.id,name:a.name,sport:a.sport,home_name:a.home_name,away_name:a.away_name,home_logo:a.home_logo||null,away_logo:a.away_logo||null,scheduled_at:S(),status:"scheduled",public_display:!0,display_token:b}).select("*").single();if(W){y(`Erreur: ${W.message}`,"error");return}const pe=[...n,L];s(pe),y("Match créé avec succès !","success"),setTimeout(()=>{l({type:"none",editingId:null}),k()},1500)}catch(b){y(`Erreur inattendue: ${b instanceof Error?b.message:"Erreur inconnue"}`,"error")}finally{h(b=>({...b,isSubmitting:!1}))}},[e,a,S,n,s,y,k]),x=R.useCallback(async()=>{if(o.editingId){h(b=>({...b,isSubmitting:!0})),y("Modification en cours...","info");try{const{data:b,error:L}=await ye.from("matches").update({name:a.name,sport:a.sport,home_name:a.home_name,away_name:a.away_name,home_logo:a.home_logo||null,away_logo:a.away_logo||null,scheduled_at:S(),updated_at:new Date().toISOString()}).eq("id",o.editingId).select("*").single();if(L){y(`Erreur lors de la modification: ${L.message}`,"error");return}const W=n.map(pe=>pe.id===o.editingId?b:pe);s(W),y("Match modifié avec succès !","success"),setTimeout(()=>{l({type:"none",editingId:null}),k()},1500)}catch(b){y(`Erreur inattendue: ${b instanceof Error?b.message:"Erreur inconnue"}`,"error")}finally{h(b=>({...b,isSubmitting:!1}))}}},[o.editingId,a,S,n,s,y,k]),I=R.useCallback(()=>{d.isSubmitting||(o.type==="create"?C():o.type==="edit"&&x())},[d.isSubmitting,o.type,C,x]),w=R.useCallback(async b=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce match ?")){console.log("🗑️ Suppression du match:",b),h(L=>({...L,isSubmitting:!0})),y("Suppression en cours...","info");try{const{error:L}=await ye.from("matches").delete().eq("id",b);if(L){console.error("❌ Erreur suppression:",L),y(`Erreur lors de la suppression: ${L.message}`,"error");return}console.log("✅ Match supprimé avec succès");const W=n.filter(pe=>pe.id!==b);s(W),y("Match supprimé avec succès !","success")}catch(L){console.error("💥 Erreur inattendue:",L),y(`Erreur inattendue: ${L instanceof Error?L.message:"Erreur inconnue"}`,"error")}finally{h(L=>({...L,isSubmitting:!1}))}}},[n,s]),P=R.useCallback(()=>{ye.auth.signOut()},[]);function F(b){console.log("🎯 SpacePage - Sélection du match:",b.name),console.log("🎯 SpacePage - Match object complet:",b),console.log("🎯 SpacePage - Appel de onMatchSelect..."),r(b),console.log("🎯 SpacePage - onMatchSelect appelé avec succès")}return u.jsx("div",{className:"space-page",children:u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"space-header",children:[u.jsx("h1",{className:"h1",children:"⚽ Scoreboard Pro"}),u.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[u.jsxs("div",{className:"org-section",children:[u.jsx("strong",{children:(e==null?void 0:e.name)||"Aucun espace disponible"}),e&&u.jsx("button",{onClick:j,className:"add-match-btn",title:"Ajouter un nouveau match",disabled:d.isSubmitting,children:"➕ Ajouter un match"}),i&&u.jsxs("div",{style:{background:"#dc2626",color:"white",padding:"8px 12px",borderRadius:"8px",fontSize:"14px",fontWeight:"600"},children:["🔴 Match actif: ",i.name]})]}),u.jsx("button",{onClick:P,style:{background:"#dc2626",borderColor:"#dc2626"},disabled:d.isSubmitting,children:"Déconnexion"})]})]}),u.jsx("div",{className:"sep"}),u.jsxs("h2",{className:"h1",children:["Matchs à venir (",m.length,")"]}),u.jsxs("div",{className:"matches-list",children:[m.map(b=>u.jsxs("div",{className:`match-row ${(i==null?void 0:i.id)===b.id?"active-match":""}`,children:[u.jsxs("div",{className:"match-details",children:[u.jsx("div",{className:"match-name",children:b.name}),u.jsxs("div",{className:"match-teams",children:[b.home_logo&&u.jsx("img",{src:b.home_logo,alt:"Logo",className:"team-logo-small"}),b.home_name," vs ",b.away_name,b.away_logo&&u.jsx("img",{src:b.away_logo,alt:"Logo",className:"team-logo-small"})]}),u.jsxs("div",{className:"match-sport",children:[u.jsx("span",{className:"sport-badge",children:b.sport}),(i==null?void 0:i.id)===b.id&&u.jsx("span",{style:{background:"#dc2626",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"600",marginLeft:"8px"},children:"ACTIF"})]})]}),u.jsxs("div",{className:"match-datetime",children:[u.jsx("div",{className:"match-date",children:new Date(b.scheduled_at).toLocaleDateString("fr-FR")}),u.jsx("div",{className:"match-time",children:new Date(b.scheduled_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{className:"match-actions",children:[u.jsx("button",{onClick:()=>F(b),className:"primary",disabled:d.isSubmitting||i&&i.id!==b.id,title:(i==null?void 0:i.id)===b.id?"Aller à la console de ce match":i&&i.id!==b.id?`Impossible - Match "${i.name}" est actif`:"Sélectionner ce match",children:(i==null?void 0:i.id)===b.id?"🎮 Console":"Sélectionner"}),u.jsx("button",{onClick:()=>g(b),style:{background:"#f59e0b",borderColor:"#f59e0b",color:"white"},disabled:d.isSubmitting,title:"Modifier ce match",children:"✏️ Modifier"}),u.jsx("button",{onClick:()=>w(b.id),className:"danger",disabled:d.isSubmitting||(i==null?void 0:i.id)===b.id,title:(i==null?void 0:i.id)===b.id?"Impossible de supprimer un match actif":"Supprimer ce match définitivement",children:"🗑️ Supprimer"})]})]},b.id)),m.length===0&&u.jsxs("div",{className:"empty-list",children:[u.jsx("div",{children:"Aucun match à venir"}),u.jsx("div",{className:"small",children:"Créez votre premier match ci-dessus"})]})]}),_.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"sep"}),u.jsxs("h2",{className:"h1",children:["Matchs archivés (",_.length,")"]}),u.jsx("div",{className:"matches-list archived",children:_.map(b=>u.jsxs("div",{className:"match-row archived",children:[u.jsxs("div",{className:"match-details",children:[u.jsx("div",{className:"match-name",children:b.name}),u.jsxs("div",{className:"match-teams",children:[b.home_name," vs ",b.away_name]})]}),u.jsxs("div",{className:"match-datetime",children:[u.jsx("div",{className:"match-date",children:new Date(b.scheduled_at).toLocaleDateString("fr-FR")}),u.jsx("div",{className:"match-time",children:new Date(b.scheduled_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),u.jsx("div",{className:"match-actions",children:u.jsx("button",{onClick:()=>F(b),style:{background:"#6b7280",borderColor:"#6b7280"},disabled:d.isSubmitting,children:"Sélectionner"})})]},b.id))})]}),o.type!=="none"&&u.jsx("div",{className:"modal-overlay",onClick:f,children:u.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:o.type==="edit"?"✏️ Modifier le match":"➕ Nouveau match"}),u.jsx("button",{className:"modal-close",onClick:f,title:"Fermer",disabled:d.isSubmitting,children:"✕"})]}),u.jsx("div",{className:"modal-body",children:u.jsxs("div",{className:"form-grid",children:[u.jsxs("div",{className:"form-row",children:[u.jsx("label",{children:"Nom du match"}),u.jsx("input",{className:"input",placeholder:"Ex: Finale championnat",value:a.name,onChange:b=>p("name",b.target.value),disabled:d.isSubmitting})]}),u.jsxs("div",{className:"form-row",children:[u.jsx("label",{children:"Sport"}),u.jsx("select",{className:"input",value:a.sport,onChange:b=>p("sport",b.target.value),disabled:d.isSubmitting,children:yv.map(b=>u.jsx("option",{value:b,children:b},b))})]}),u.jsxs("div",{className:"form-row-split",children:[u.jsxs("div",{className:"form-field",children:[u.jsx("label",{children:"Équipe A"}),u.jsx("input",{className:"input",placeholder:"Nom équipe A",value:a.home_name,onChange:b=>p("home_name",b.target.value),disabled:d.isSubmitting}),u.jsxs("div",{className:"logo-upload",children:[u.jsxs("label",{className:"logo-upload-label",children:["📷 Logo équipe A",u.jsx("input",{type:"file",accept:"image/*",onChange:b=>{var L;return((L=b.target.files)==null?void 0:L[0])&&v(b.target.files[0],"home")},style:{display:"none"},disabled:d.isSubmitting})]}),a.home_logo&&u.jsxs("div",{className:"logo-preview",children:[u.jsx("img",{src:a.home_logo,alt:"Logo équipe A"}),u.jsx("button",{type:"button",onClick:()=>E("home"),className:"logo-remove",title:"Supprimer le logo",disabled:d.isSubmitting,children:"✕"})]})]})]}),u.jsxs("div",{className:"form-field",children:[u.jsx("label",{children:"Équipe B"}),u.jsx("input",{className:"input",placeholder:"Nom équipe B",value:a.away_name,onChange:b=>p("away_name",b.target.value),disabled:d.isSubmitting}),u.jsxs("div",{className:"logo-upload",children:[u.jsxs("label",{className:"logo-upload-label",children:["📷 Logo équipe B",u.jsx("input",{type:"file",accept:"image/*",onChange:b=>{var L;return((L=b.target.files)==null?void 0:L[0])&&v(b.target.files[0],"away")},style:{display:"none"},disabled:d.isSubmitting})]}),a.away_logo&&u.jsxs("div",{className:"logo-preview",children:[u.jsx("img",{src:a.away_logo,alt:"Logo équipe B"}),u.jsx("button",{type:"button",onClick:()=>E("away"),className:"logo-remove",title:"Supprimer le logo",disabled:d.isSubmitting,children:"✕"})]})]})]})]}),u.jsxs("div",{className:"form-row-split",children:[u.jsxs("div",{className:"form-field",children:[u.jsx("label",{children:"Date"}),u.jsx("input",{className:"input",type:"date",value:a.date,onChange:b=>p("date",b.target.value),disabled:d.isSubmitting})]}),u.jsxs("div",{className:"form-field",children:[u.jsx("label",{children:"Heure"}),u.jsx("input",{className:"input",type:"time",value:a.time,onChange:b=>p("time",b.target.value),disabled:d.isSubmitting})]})]}),d.message&&u.jsx("div",{className:"form-message",style:{color:d.messageType==="error"?"#ff6b6b":d.messageType==="success"?"#4ade80":"#fbbf24"},children:d.message})]})}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{onClick:f,className:"secondary",disabled:d.isSubmitting,children:"Annuler"}),u.jsx("button",{onClick:I,className:"primary",disabled:!a.name.trim()||d.isSubmitting,children:d.isSubmitting?"⏳ En cours...":o.type==="edit"?"✅ Sauvegarder":"✅ Créer le match"})]})]})})]})})}function Sh(t){switch(t){case"football":return{durationSec:45*60,remainingMs:45*60*1e3,running:!1,period:1};case"handball":return{durationSec:30*60,remainingMs:30*60*1e3,running:!1,period:1};case"basket":return{durationSec:10*60,remainingMs:10*60*1e3,running:!1,period:1};case"hockey_ice":return{durationSec:20*60,remainingMs:20*60*1e3,running:!1,period:1};case"hockey_field":return{durationSec:15*60,remainingMs:15*60*1e3,running:!1,period:1};case"volleyball":return{durationSec:0,remainingMs:0,running:!1,period:1};case"basic":default:return{durationSec:10*60,remainingMs:10*60*1e3,running:!1,period:1}}}function _t(t,e){const n=Sh(e),r={matchId:t,sport:e,clock:n,score:{home:0,away:0},meta:{}};return e==="volleyball"&&(r.meta={currentSet:1,bestOf:5,setsWon:{home:0,away:0},pointsToWin:25,tieBreakPoints:15,winBy:2,serve:"home",timeouts:{home:0,away:0},maxTimeoutsPerSet:2,technicalTO:{enabled:!1,atPoints:[8,16]}}),e==="football"&&(r.meta={stoppageMin:0,cards:{home:{yellow:0,red:0},away:{yellow:0,red:0}},shootout:{inProgress:!1,home:[],away:[]}}),e==="handball"&&(r.meta={timeouts:{home:0,away:0,maxPerTeam:3},suspensions:{home:[],away:[]}}),e==="basket"&&(r.meta={foulLimitPerPlayer:5,teamFouls:{home:0,away:0},bonusThreshold:5,timeoutsLeft:{home:5,away:5},shotClockMs:24e3,shotRunning:!1,roster:{home:[{num:4,fouls:0},{num:5,fouls:0},{num:6,fouls:0},{num:7,fouls:0},{num:8,fouls:0}],away:[{num:9,fouls:0},{num:10,fouls:0},{num:11,fouls:0},{num:12,fouls:0},{num:13,fouls:0}]}}),e==="hockey_ice"&&(r.meta={penalties:{home:[],away:[]}}),e==="hockey_field"&&(r.meta={cards:{home:{green:0,yellow:0,red:0},away:{green:0,yellow:0,red:0}},suspensions:{home:[],away:[]}}),r}function _v(t){var n,r,s,i;const e={...t,clock:{...t.clock},meta:{...t.meta||{}}};return e.clock.running&&(e.clock.remainingMs=Math.max(0,e.clock.remainingMs-100),e.clock.remainingMs===0&&(e.clock.running=!1)),e.sport==="basket"&&((n=e.meta)!=null&&n.shotRunning)&&(e.meta.shotClockMs=Math.max(0,(e.meta.shotClockMs||0)-100),e.meta.shotClockMs===0&&(e.meta.shotRunning=!1)),e.sport==="handball"&&((r=e.meta)!=null&&r.suspensions)&&["home","away"].forEach(o=>{e.meta.suspensions[o]=(e.meta.suspensions[o]||[]).map(l=>({...l,remainingMs:Math.max(0,(l.remainingMs||0)-100)})).filter(l=>l.remainingMs>0)}),e.sport==="hockey_ice"&&((s=e.meta)!=null&&s.penalties)&&["home","away"].forEach(o=>{e.meta.penalties[o]=(e.meta.penalties[o]||[]).map(l=>({...l,remainingMs:Math.max(0,(l.remainingMs||0)-100)})).filter(l=>l.remainingMs>0)}),e.sport==="hockey_field"&&((i=e.meta)!=null&&i.suspensions)&&["home","away"].forEach(o=>{e.meta.suspensions[o]=(e.meta.suspensions[o]||[]).map(l=>({...l,remainingMs:Math.max(0,(l.remainingMs||0)-100)})).filter(l=>l.remainingMs>0)}),e}function ro(t,e){return _t(t,e)}function kv(t,e){var s,i,o,l,a,c,d,h,m,_,y,k,j,g,f,p,v,E,S,C,x,I;console.log("🔄 Reduce - Action:",e.type,e.payload),console.log("🔄 Reduce - État avant:",t);const n=JSON.parse(JSON.stringify(t)),r=n.meta||{};switch(e.type){case"sport:set":{const w=_t(n.matchId,((s=e.payload)==null?void 0:s.sport)||n.sport);return w.score=n.score,console.log("🔄 Reduce - Sport changé:",w),w}case"clock:start":return n.clock.running=!0,n;case"clock:stop":return n.clock.running=!1,n;case"clock:set":return n.clock.remainingMs=Math.max(0,Number(((i=e.payload)==null?void 0:i.remainingMs)||n.clock.remainingMs)),n;case"period:next":return n.clock.period+=1,n;case"period:prev":return n.clock.period=Math.max(1,n.clock.period-1),n;case"score:inc":{const w=((o=e.payload)==null?void 0:o.team)||"home",P=((l=e.payload)==null?void 0:l.amount)||1;return n.score[w]+=P,console.log("🔄 Reduce - Score incrémenté:",w,"+",P,"=",n.score[w]),n}case"score:dec":{const w=((a=e.payload)==null?void 0:a.team)||"home",P=((c=e.payload)==null?void 0:c.amount)||1;return n.score[w]=Math.max(0,n.score[w]-P),console.log("🔄 Reduce - Score décrémenté:",w,"-",P,"=",n.score[w]),n}case"clock:reset":{const w=Sh(n.sport);return n.clock.remainingMs=w.remainingMs,n.clock.durationSec=w.durationSec,n}case"vb:init":return _t(n.matchId,"volleyball");case"vb:point":{const w=((d=e.payload)==null?void 0:d.team)||"home";return n.score[w]+=1,n}case"vb:point:dec":{const w=((h=e.payload)==null?void 0:h.team)||"home";return n.score[w]=Math.max(0,n.score[w]-1),n}case"vb:serve":return r.serve=((m=e.payload)==null?void 0:m.team)||"home",n.meta=r,n;case"vb:timeout":{const w=((_=e.payload)==null?void 0:_.team)||"home",P=((y=r.timeouts)==null?void 0:y[w])||0,F=r.maxTimeoutsPerSet??2;return r.timeouts[w]=Math.min(F,P+1),n.meta=r,n}case"vb:timeout:dec":{const w=((k=e.payload)==null?void 0:k.team)||"home";return r.timeouts[w]=Math.max(0,(((j=r.timeouts)==null?void 0:j[w])||0)-1),n.meta=r,n}case"vb:nextSet":{const w=r.currentSet===Math.ceil((r.bestOf||5)/1)?r.tieBreakPoints??15:r.pointsToWin??25,P=Math.abs(n.score.home-n.score.away);return(n.score.home>=w||n.score.away>=w)&&P>=(r.winBy||2)&&(n.score.home>n.score.away?r.setsWon.home++:r.setsWon.away++,r.currentSet++,n.score={home:0,away:0},r.timeouts={home:0,away:0}),n.meta=r,n}case"fb:init":return _t(n.matchId,"football");case"fb:goal":{const w=((g=e.payload)==null?void 0:g.team)||"home";return n.score[w]+=1,n}case"fb:goal:dec":{const w=((f=e.payload)==null?void 0:f.team)||"home";return n.score[w]=Math.max(0,n.score[w]-1),n}case"fb:card":{const{team:w="home",color:P="yellow"}=e.payload||{};return(P==="yellow"||P==="red")&&(r.cards[w][P]=(r.cards[w][P]||0)+1),n.meta=r,n}case"fb:card:dec":{const{team:w="home",color:P="yellow"}=e.payload||{};return(P==="yellow"||P==="red")&&(r.cards[w][P]=Math.max(0,(r.cards[w][P]||0)-1)),n.meta=r,n}case"fb:stoppage":{const{minutes:w=0}=e.payload||{};return r.stoppageMin=w,n.meta=r,n}case"fb:stoppage:inc":return r.stoppageMin=(r.stoppageMin||0)+1,n.meta=r,n;case"fb:stoppage:dec":return r.stoppageMin=Math.max(0,(r.stoppageMin||0)-1),n.meta=r,n;case"fb:extra:start":return n.clock.period<=2?(n.clock.period=3,n.clock.remainingMs=15*60*1e3,n.clock.durationSec=15*60,r.stoppageMin=0):n.clock.period===3&&(n.clock.period=4,n.clock.remainingMs=15*60*1e3,n.clock.durationSec=15*60,r.stoppageMin=0),n.meta=r,n;case"fb:extra:reset":return n.clock.period=1,n.clock.remainingMs=45*60*1e3,n.clock.durationSec=45*60,r.stoppageMin=0,n.meta=r,n;case"fb:so:start":return r.shootout={inProgress:!0,home:[],away:[]},n.meta=r,n;case"fb:so:record":{const{team:w="home",res:P="G"}=e.payload||{};return r.shootout||(r.shootout={inProgress:!0,home:[],away:[]}),r.shootout[w].push(P==="G"?"G":"M"),n.meta=r,n}case"fb:so:undo":{const{team:w="home"}=e.payload||{};return r.shootout||(r.shootout={inProgress:!0,home:[],away:[]}),r.shootout[w].length>0&&r.shootout[w].pop(),n.meta=r,n}case"hb:init":return _t(n.matchId,"handball");case"hb:goal":{const w=((p=e.payload)==null?void 0:p.team)||"home";return n.score[w]+=1,n}case"hb:goal:dec":{const w=((v=e.payload)==null?void 0:v.team)||"home";return n.score[w]=Math.max(0,n.score[w]-1),n}case"hb:timeout":{const{team:w="home"}=e.payload||{},P=r.timeouts[w]||0,F=r.timeouts.maxPerTeam||3;return r.timeouts[w]=Math.min(F,P+1),n.meta=r,n}case"hb:timeout:dec":{const{team:w="home"}=e.payload||{};return r.timeouts[w]=Math.max(0,(r.timeouts[w]||0)-1),n.meta=r,n}case"hb:susp":{const{team:w="home",minutes:P=2}=e.payload||{};return r.suspensions[w]=r.suspensions[w]||[],r.suspensions[w].push({remainingMs:P*60*1e3}),n.meta=r,n}case"hb:susp:remove":{const{team:w="home"}=e.payload||{};return r.suspensions[w]&&r.suspensions[w].length>0&&r.suspensions[w].pop(),n.meta=r,n}case"bb:init":return _t(n.matchId,"basket");case"bb:score":{const{team:w="home",points:P=2}=e.payload||{};return n.score[w]+=P,n}case"bb:score:dec":{const{team:w="home",points:P=2}=e.payload||{};return n.score[w]=Math.max(0,n.score[w]-P),n}case"bb:foul":{const{team:w="home",index:P=0}=e.payload||{},F=r.roster[w][P];return F&&(F.fouls=(F.fouls||0)+1,r.teamFouls[w]=(r.teamFouls[w]||0)+1),n.meta=r,n}case"bb:foul:dec":{const{team:w="home",index:P=0}=e.payload||{},F=r.roster[w][P];return F&&F.fouls>0&&(F.fouls=F.fouls-1,r.teamFouls[w]=Math.max(0,(r.teamFouls[w]||0)-1)),n.meta=r,n}case"bb:tf:reset":return r.teamFouls={home:0,away:0},n.meta=r,n;case"bb:to":{const{team:w="home"}=e.payload||{};return r.timeoutsLeft[w]=Math.max(0,(r.timeoutsLeft[w]||0)-1),n.meta=r,n}case"bb:to:restore":{const{team:w="home"}=e.payload||{};return r.timeoutsLeft[w]=Math.min(5,(r.timeoutsLeft[w]||0)+1),n.meta=r,n}case"bb:shot:start":return r.shotRunning=!0,n.meta=r,n;case"bb:shot:stop":return r.shotRunning=!1,n.meta=r,n;case"bb:shot:reset24":return r.shotClockMs=24e3,n.meta=r,n;case"bb:shot:reset14":return r.shotClockMs=14e3,n.meta=r,n;case"bb:shot:set":{const w=Math.max(0,Number(((E=e.payload)==null?void 0:E.ms)||0));return r.shotClockMs=w,n.meta=r,n}case"hi:init":return _t(n.matchId,"hockey_ice");case"hi:goal":{const w=((S=e.payload)==null?void 0:S.team)||"home";return n.score[w]+=1,n}case"hi:goal:dec":{const w=((C=e.payload)==null?void 0:C.team)||"home";return n.score[w]=Math.max(0,n.score[w]-1),n}case"hi:penalty":{const{team:w="home",minutes:P=2}=e.payload||{};return r.penalties[w]=r.penalties[w]||[],r.penalties[w].push({minutes:P,remainingMs:P*60*1e3}),n.meta=r,n}case"hi:penalty:remove":{const{team:w="home"}=e.payload||{};return r.penalties[w]&&r.penalties[w].length>0&&r.penalties[w].pop(),n.meta=r,n}case"hf:init":return _t(n.matchId,"hockey_field");case"hf:goal":{const w=((x=e.payload)==null?void 0:x.team)||"home";return n.score[w]+=1,n}case"hf:goal:dec":{const w=((I=e.payload)==null?void 0:I.team)||"home";return n.score[w]=Math.max(0,n.score[w]-1),n}case"hf:card":{const{team:w="home",color:P="green"}=e.payload||{};if(r.cards[w][P]!=null&&(r.cards[w][P]+=1),P==="green"||P==="yellow"){const F=P==="green"?2:5;r.suspensions[w].push({color:P,remainingMs:F*60*1e3})}return n.meta=r,n}case"hf:card:dec":{const{team:w="home",color:P="green"}=e.payload||{};if(r.cards[w][P]!=null&&r.cards[w][P]>0&&(r.cards[w][P]-=1,P==="green"||P==="yellow")){const F=r.suspensions[w].findIndex(b=>b.color===P);F>=0&&r.suspensions[w].splice(F,1)}return n.meta=r,n}}return n}const ee=({title:t,children:e,className:n})=>u.jsxs("div",{className:`control-section ${n||""}`,children:[u.jsx("h3",{children:t}),e]}),B=({title:t,children:e})=>u.jsxs("div",{className:"team-section",children:[u.jsx("h4",{className:"team-title",children:t}),u.jsx("div",{className:"team-controls",children:e})]}),$u=({cols:t,children:e})=>u.jsx("div",{className:`control-grid ${t||""}`,children:e});function Sv({state:t,send:e}){switch(t.sport){case"football":return u.jsx(bv,{send:e});case"handball":return u.jsx(Ev,{send:e});case"basket":return u.jsx(jv,{state:t,send:e});case"hockey_ice":return u.jsx(Cv,{send:e});case"hockey_field":return u.jsx(Tv,{send:e});case"volleyball":return u.jsx(Pv,{send:e});case"basic":default:return u.jsx(xv,{send:e})}}function xv({send:t}){return u.jsxs("div",{className:"match-controls",children:[u.jsx(ee,{title:"Contrôle du temps",children:u.jsxs("div",{className:"control-grid",children:[u.jsx("button",{className:"primary",onClick:()=>t("clock:start"),children:"▶ Démarrer"}),u.jsx("button",{className:"danger",onClick:()=>t("clock:stop"),children:"⏸ Arrêter"}),u.jsx("button",{onClick:()=>t("clock:reset"),children:"⟲ Reset"}),u.jsx("button",{onClick:()=>t("period:next"),children:"Période +1"}),u.jsx("button",{onClick:()=>t("period:prev"),children:"Période -1"})]})}),u.jsx(ee,{title:"Score",className:"team-layout",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"success",onClick:()=>{console.log("🎯 Clic +1 Équipe A"),t("score:inc",{team:"home"})},children:"+1"}),u.jsx("button",{className:"danger",onClick:()=>{console.log("🎯 Clic -1 Équipe A"),t("score:dec",{team:"home"})},children:"-1"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"success",onClick:()=>{console.log("🎯 Clic +1 Équipe B"),t("score:inc",{team:"away"})},children:"+1"}),u.jsx("button",{className:"danger",onClick:()=>{console.log("🎯 Clic -1 Équipe B"),t("score:dec",{team:"away"})},children:"-1"})]})]})})]})}function bv({send:t}){return u.jsxs("div",{className:"match-controls",children:[u.jsx(ee,{title:"Buts",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"success",onClick:()=>t("fb:goal",{team:"home"}),children:"⚽ +1 But"}),u.jsx("button",{className:"danger",onClick:()=>t("fb:goal:dec",{team:"home"}),children:"❌ -1 But"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"success",onClick:()=>t("fb:goal",{team:"away"}),children:"⚽ +1 But"}),u.jsx("button",{className:"danger",onClick:()=>t("fb:goal:dec",{team:"away"}),children:"❌ -1 But"})]})]})}),u.jsx(ee,{title:"Cartons",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{style:{background:"#fbbf24"},onClick:()=>t("fb:card",{team:"home",color:"yellow"}),children:"🟨 +1 Jaune"}),u.jsx("button",{style:{background:"#d97706"},onClick:()=>t("fb:card:dec",{team:"home",color:"yellow"}),children:"🟨 -1 Jaune"}),u.jsx("button",{className:"danger",onClick:()=>t("fb:card",{team:"home",color:"red"}),children:"🟥 +1 Rouge"}),u.jsx("button",{style:{background:"#991b1b"},onClick:()=>t("fb:card:dec",{team:"home",color:"red"}),children:"🟥 -1 Rouge"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{style:{background:"#fbbf24"},onClick:()=>t("fb:card",{team:"away",color:"yellow"}),children:"🟨 +1 Jaune"}),u.jsx("button",{style:{background:"#d97706"},onClick:()=>t("fb:card:dec",{team:"away",color:"yellow"}),children:"🟨 -1 Jaune"}),u.jsx("button",{className:"danger",onClick:()=>t("fb:card",{team:"away",color:"red"}),children:"🟥 +1 Rouge"}),u.jsx("button",{style:{background:"#991b1b"},onClick:()=>t("fb:card:dec",{team:"away",color:"red"}),children:"🟥 -1 Rouge"})]})]})}),u.jsx(ee,{title:"Temps additionnel",children:u.jsxs("div",{className:"control-grid three-col",children:[u.jsx("button",{className:"success",onClick:()=>t("fb:stoppage:inc"),children:"⏱ +1 min"}),u.jsx("button",{className:"danger",onClick:()=>t("fb:stoppage:dec"),children:"⏱ -1 min"}),u.jsx("button",{onClick:()=>t("fb:stoppage",{minutes:0}),children:"⟲ Reset"})]})}),u.jsx(ee,{title:"Prolongations",children:u.jsxs("div",{className:"control-grid two-col",children:[u.jsx("button",{onClick:()=>t("fb:extra:start"),style:{background:"#f59e0b",borderColor:"#f59e0b",color:"white"},children:"🕐 Démarrer prolongations"}),u.jsx("button",{onClick:()=>t("fb:extra:reset"),style:{background:"#6b7280",borderColor:"#6b7280",color:"white"},children:"⟲ Retour temps réglementaire"})]})}),u.jsxs(ee,{title:"Tirs au but",children:[u.jsx("div",{className:"control-grid",children:u.jsx("button",{onClick:()=>t("fb:so:start"),children:"Démarrer TAB"})}),u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"success",onClick:()=>t("fb:so:record",{team:"home",res:"G"}),children:"✅ Réussi"}),u.jsx("button",{className:"danger",onClick:()=>t("fb:so:record",{team:"home",res:"M"}),children:"❌ Raté"}),u.jsx("button",{style:{background:"#6b7280"},onClick:()=>t("fb:so:undo",{team:"home"}),children:"↶ Annuler"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"success",onClick:()=>t("fb:so:record",{team:"away",res:"G"}),children:"✅ Réussi"}),u.jsx("button",{className:"danger",onClick:()=>t("fb:so:record",{team:"away",res:"M"}),children:"❌ Raté"}),u.jsx("button",{style:{background:"#6b7280"},onClick:()=>t("fb:so:undo",{team:"away"}),children:"↶ Annuler"})]})]})]})]})}function Ev({send:t}){return u.jsxs("div",{className:"match-controls",children:[u.jsx(ee,{title:"Buts",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"success",onClick:()=>t("hb:goal",{team:"home"}),children:"🥅 +1 But"}),u.jsx("button",{className:"danger",onClick:()=>t("hb:goal:dec",{team:"home"}),children:"❌ -1 But"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"success",onClick:()=>t("hb:goal",{team:"away"}),children:"🥅 +1 But"}),u.jsx("button",{className:"danger",onClick:()=>t("hb:goal:dec",{team:"away"}),children:"❌ -1 But"})]})]})}),u.jsx(ee,{title:"Temps morts",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{onClick:()=>t("hb:timeout",{team:"home"}),children:"⏱ +1 TO"}),u.jsx("button",{onClick:()=>t("hb:timeout:dec",{team:"home"}),children:"⏱ -1 TO"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{onClick:()=>t("hb:timeout",{team:"away"}),children:"⏱ +1 TO"}),u.jsx("button",{onClick:()=>t("hb:timeout:dec",{team:"away"}),children:"⏱ -1 TO"})]})]})}),u.jsx(ee,{title:"Exclusions 2 minutes",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"danger",onClick:()=>t("hb:susp",{team:"home",minutes:2}),children:"2' +1"}),u.jsx("button",{style:{background:"#991b1b"},onClick:()=>t("hb:susp:remove",{team:"home"}),children:"2' -1"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"danger",onClick:()=>t("hb:susp",{team:"away",minutes:2}),children:"2' +1"}),u.jsx("button",{style:{background:"#991b1b"},onClick:()=>t("hb:susp:remove",{team:"away"}),children:"2' -1"})]})]})})]})}function jv({state:t,send:e}){var r,s,i,o;const n=t.meta||{};return u.jsxs("div",{className:"match-controls",children:[u.jsx(ee,{title:"Points",children:u.jsxs("div",{className:"teams-grid",children:[u.jsx(B,{title:"Équipe A",children:u.jsxs("div",{className:"control-grid three-col",children:[u.jsx("button",{className:"success",onClick:()=>e("bb:score",{team:"home",points:1}),children:"+1"}),u.jsx("button",{className:"success",onClick:()=>e("bb:score",{team:"home",points:2}),children:"+2"}),u.jsx("button",{className:"success",onClick:()=>e("bb:score",{team:"home",points:3}),children:"+3"}),u.jsx("button",{className:"danger",onClick:()=>e("bb:score:dec",{team:"home",points:1}),children:"-1"}),u.jsx("button",{className:"danger",onClick:()=>e("bb:score:dec",{team:"home",points:2}),children:"-2"}),u.jsx("button",{className:"danger",onClick:()=>e("bb:score:dec",{team:"home",points:3}),children:"-3"})]})}),u.jsx(B,{title:"Équipe B",children:u.jsxs("div",{className:"control-grid three-col",children:[u.jsx("button",{className:"success",onClick:()=>e("bb:score",{team:"away",points:1}),children:"+1"}),u.jsx("button",{className:"success",onClick:()=>e("bb:score",{team:"away",points:2}),children:"+2"}),u.jsx("button",{className:"success",onClick:()=>e("bb:score",{team:"away",points:3}),children:"+3"}),u.jsx("button",{className:"danger",onClick:()=>e("bb:score:dec",{team:"away",points:1}),children:"-1"}),u.jsx("button",{className:"danger",onClick:()=>e("bb:score:dec",{team:"away",points:2}),children:"-2"}),u.jsx("button",{className:"danger",onClick:()=>e("bb:score:dec",{team:"away",points:3}),children:"-3"})]})})]})}),u.jsxs(ee,{title:"Temps morts",children:[u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{onClick:()=>e("bb:to",{team:"home"}),children:"⏱ Utiliser TO"}),u.jsx("button",{onClick:()=>e("bb:to:restore",{team:"home"}),children:"⏱ Restaurer TO"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{onClick:()=>e("bb:to",{team:"away"}),children:"⏱ Utiliser TO"}),u.jsx("button",{onClick:()=>e("bb:to:restore",{team:"away"}),children:"⏱ Restaurer TO"})]})]}),u.jsx("div",{className:"control-grid",children:u.jsx("button",{onClick:()=>e("bb:tf:reset"),children:"Reset Fautes équipe"})})]}),u.jsx(ee,{title:"Horloge des 24 secondes",children:u.jsxs("div",{className:"control-grid",children:[u.jsx("button",{className:"primary",onClick:()=>e("bb:shot:start"),children:"▶ Démarrer"}),u.jsx("button",{className:"danger",onClick:()=>e("bb:shot:stop"),children:"⏸ Arrêter"}),u.jsx("button",{onClick:()=>e("bb:shot:reset24"),children:"⟲ 24s"}),u.jsx("button",{onClick:()=>e("bb:shot:reset14"),children:"⟲ 14s"})]})}),u.jsx(ee,{title:"Fautes joueurs",children:u.jsxs("div",{className:"teams-grid",children:[u.jsx(B,{title:"Équipe A",children:u.jsx("div",{className:"control-grid three-col",children:(s=(r=n.roster)==null?void 0:r.home)==null?void 0:s.map((l,a)=>u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[u.jsxs("button",{onClick:()=>e("bb:foul",{team:"home",index:a}),style:{background:l.fouls>=5?"#dc2626":l.fouls>=3?"#f59e0b":"#16a34a"},children:["#",l.num," +1 (",l.fouls,")"]}),u.jsx("button",{onClick:()=>e("bb:foul:dec",{team:"home",index:a}),style:{background:"#991b1b",fontSize:"12px",padding:"4px"},children:"-1"})]},a))})}),u.jsx(B,{title:"Équipe B",children:u.jsx("div",{className:"control-grid three-col",children:(o=(i=n.roster)==null?void 0:i.away)==null?void 0:o.map((l,a)=>u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[u.jsxs("button",{onClick:()=>e("bb:foul",{team:"away",index:a}),style:{background:l.fouls>=5?"#dc2626":l.fouls>=3?"#f59e0b":"#16a34a"},children:["#",l.num," +1 (",l.fouls,")"]}),u.jsx("button",{onClick:()=>e("bb:foul:dec",{team:"away",index:a}),style:{background:"#991b1b",fontSize:"12px",padding:"4px"},children:"-1"})]},a))})})]})})]})}function Cv({send:t}){return u.jsxs("div",{className:"match-controls",children:[u.jsx(ee,{title:"Buts",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"success",onClick:()=>t("hi:goal",{team:"home"}),children:"🏒 +1 But"}),u.jsx("button",{className:"danger",onClick:()=>t("hi:goal:dec",{team:"home"}),children:"❌ -1 But"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"success",onClick:()=>t("hi:goal",{team:"away"}),children:"🏒 +1 But"}),u.jsx("button",{className:"danger",onClick:()=>t("hi:goal:dec",{team:"away"}),children:"❌ -1 But"})]})]})}),u.jsx(ee,{title:"Pénalités",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"danger",onClick:()=>t("hi:penalty",{team:"home",minutes:2}),children:"+1 Pén 2min"}),u.jsx("button",{className:"danger",onClick:()=>t("hi:penalty",{team:"home",minutes:5}),children:"+1 Pén 5min"}),u.jsx("button",{style:{background:"#991b1b"},onClick:()=>t("hi:penalty:remove",{team:"home"}),children:"-1 Pénalité"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"danger",onClick:()=>t("hi:penalty",{team:"away",minutes:2}),children:"+1 Pén 2min"}),u.jsx("button",{className:"danger",onClick:()=>t("hi:penalty",{team:"away",minutes:5}),children:"+1 Pén 5min"}),u.jsx("button",{style:{background:"#991b1b"},onClick:()=>t("hi:penalty:remove",{team:"away"}),children:"-1 Pénalité"})]})]})})]})}function Tv({send:t}){return u.jsxs("div",{className:"match-controls",children:[u.jsx(ee,{title:"Buts",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"success",onClick:()=>t("hf:goal",{team:"home"}),children:"🏑 +1 But"}),u.jsx("button",{className:"danger",onClick:()=>t("hf:goal:dec",{team:"home"}),children:"❌ -1 But"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"success",onClick:()=>t("hf:goal",{team:"away"}),children:"🏑 +1 But"}),u.jsx("button",{className:"danger",onClick:()=>t("hf:goal:dec",{team:"away"}),children:"❌ -1 But"})]})]})}),u.jsx(ee,{title:"Cartes",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{style:{background:"#16a34a"},onClick:()=>t("hf:card",{team:"home",color:"green"}),children:"🟩 +1 Verte"}),u.jsx("button",{style:{background:"#15803d"},onClick:()=>t("hf:card:dec",{team:"home",color:"green"}),children:"🟩 -1 Verte"}),u.jsx("button",{style:{background:"#fbbf24"},onClick:()=>t("hf:card",{team:"home",color:"yellow"}),children:"🟨 +1 Jaune"}),u.jsx("button",{style:{background:"#d97706"},onClick:()=>t("hf:card:dec",{team:"home",color:"yellow"}),children:"🟨 -1 Jaune"}),u.jsx("button",{className:"danger",onClick:()=>t("hf:card",{team:"home",color:"red"}),children:"🟥 +1 Rouge"}),u.jsx("button",{style:{background:"#991b1b"},onClick:()=>t("hf:card:dec",{team:"home",color:"red"}),children:"🟥 -1 Rouge"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{style:{background:"#16a34a"},onClick:()=>t("hf:card",{team:"away",color:"green"}),children:"🟩 +1 Verte"}),u.jsx("button",{style:{background:"#15803d"},onClick:()=>t("hf:card:dec",{team:"away",color:"green"}),children:"🟩 -1 Verte"}),u.jsx("button",{style:{background:"#fbbf24"},onClick:()=>t("hf:card",{team:"away",color:"yellow"}),children:"🟨 +1 Jaune"}),u.jsx("button",{style:{background:"#d97706"},onClick:()=>t("hf:card:dec",{team:"away",color:"yellow"}),children:"🟨 -1 Jaune"}),u.jsx("button",{className:"danger",onClick:()=>t("hf:card",{team:"away",color:"red"}),children:"🟥 +1 Rouge"}),u.jsx("button",{style:{background:"#991b1b"},onClick:()=>t("hf:card:dec",{team:"away",color:"red"}),children:"🟥 -1 Rouge"})]})]})})]})}function Pv({send:t}){return u.jsxs("div",{className:"match-controls",children:[u.jsx(ee,{title:"Points",children:u.jsxs("div",{className:"teams-grid",children:[u.jsxs(B,{title:"Équipe A",children:[u.jsx("button",{className:"success",onClick:()=>t("vb:point",{team:"home"}),children:"🏐 +1 Point"}),u.jsx("button",{className:"danger",onClick:()=>t("vb:point:dec",{team:"home"}),children:"❌ -1 Point"})]}),u.jsxs(B,{title:"Équipe B",children:[u.jsx("button",{className:"success",onClick:()=>t("vb:point",{team:"away"}),children:"🏐 +1 Point"}),u.jsx("button",{className:"danger",onClick:()=>t("vb:point:dec",{team:"away"}),children:"❌ -1 Point"})]})]})}),u.jsx(ee,{title:"Service",children:u.jsxs($u,{children:[u.jsx("button",{onClick:()=>t("vb:serve",{team:"home"}),children:"🏐 Service A"}),u.jsx("button",{onClick:()=>t("vb:serve",{team:"away"}),children:"🏐 Service B"})]})}),u.jsx(ee,{title:"Temps morts",children:u.jsxs($u,{cols:"two-col",children:[u.jsx("button",{onClick:()=>t("vb:timeout",{team:"home"}),children:"⏱ +1 TO Équipe A"}),u.jsx("button",{onClick:()=>t("vb:timeout:dec",{team:"home"}),children:"⏱ -1 TO Équipe A"}),u.jsx("button",{onClick:()=>t("vb:timeout",{team:"away"}),children:"⏱ +1 TO Équipe B"}),u.jsx("button",{onClick:()=>t("vb:timeout:dec",{team:"away"}),children:"⏱ -1 TO Équipe B"})]})}),u.jsx(ee,{title:"Gestion des sets",children:u.jsx("button",{onClick:()=>t("vb:nextSet"),children:"Valider le set"})})]})}function Lu(t,e,n){return`match:${t}:${e}:${n}`}function Nv(t,e,n,r,s){const i=Lu(t,e,n);console.log("Operator - Création du canal:",i);const o=ye.channel(Lu(t,e,n),{config:{broadcast:{ack:!0},presence:{key:"operator"}}});let l=null;return o.on("broadcast",{event:"hello"},a=>{console.log("Operator - Message hello reçu:",a),r()}),o.on("broadcast",{event:"request_state"},a=>{console.log("Operator - Demande d'état reçue:",a),r()}),o.on("broadcast",{event:"state"},a=>{var c;console.log("Operator - État reçu:",a),l&&((c=a.payload)!=null&&c.state)&&l(a.payload.state)}),o.on("broadcast",{event:"*"},a=>{console.log("Operator - Message reçu:",a.event,a.payload)}),o.subscribe(a=>{console.log("Operator - Statut de souscription:",a),a==="SUBSCRIBED"&&(s==null||s())}),{publish(a,c){console.log("Operator - Publication de l'état:",{state:a,info:c});const d={state:a,info:c,t:Date.now()};o.send({type:"broadcast",event:"state",payload:d})},requestSync(){console.log("Operator - Demande de synchronisation"),o.send({type:"broadcast",event:"request_sync",payload:{operator:!0}})},onStateUpdate(a){l=a},close(){console.log("Operator - Fermeture du canal"),ye.removeChannel(o)}}}function Ov({match:t,onBack:e,activeMatch:n,onMatchesUpdate:r}){console.log("🎮 MatchPage - Rendu avec match:",(t==null?void 0:t.name)||"UNDEFINED");const[s,i]=R.useState(t.status),[o,l]=R.useState(null),[a,c]=R.useState(null),[d,h]=R.useState("Connexion..."),[m,_]=R.useState(!1),y=`match_state_${t.id}`;if(console.log("🎮 MatchPage - Score actuel:",(o==null?void 0:o.score)||"Pas encore chargé"),!t||!t.id)return console.error("❌ MatchPage - Match invalide ou manquant:",t),u.jsx("div",{className:"match-page",children:u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"loading",children:"Erreur: Match invalide"}),u.jsx("button",{onClick:e,className:"back-button",children:"← Retour"})]})});const k=s==="live",j=R.useMemo(()=>{const v=new URL("http://localhost:5174/");return v.searchParams.set("org",t.org_slug||"org"),v.searchParams.set("match",t.id),v.searchParams.set("token",t.display_token),v.searchParams.set("home",t.home_name),v.searchParams.set("away",t.away_name),v.searchParams.set("ui","1"),v.toString()},[t.id,t.org_slug,t.display_token,t.home_name,t.away_name]);R.useEffect(()=>{console.log("🎮 MatchPage - Initialisation pour match:",t.id);let v;if(s==="live")try{const S=localStorage.getItem(y);if(S){const C=JSON.parse(S);if(C.matchId===`${t.org_id}:${t.id}`&&C.sport===t.sport)v=C,v.clock.running=!0,console.log("🔄 État restauré depuis localStorage:",v);else throw new Error("État sauvegardé invalide")}else throw new Error("Pas d'état sauvegardé")}catch{console.log("⚠️ Impossible de restaurer l'état, initialisation par défaut");const C=`${t.org_id}:${t.id}`;v=ro(C,t.sport),v.clock.running=!0}else{const S=`${t.org_id}:${t.id}`;v=ro(S,t.sport),localStorage.removeItem(y)}l(v),a&&(console.log("🔌 Fermeture du canal précédent"),a.close());const E=Nv(t.org_slug||"org",t.id,t.display_token,()=>{console.log("🔄 Display demande l'état - Envoi de l'état actuel"),h("Display connecté"),l(S=>(S&&E.publish(S,t),S))},()=>{console.log("🔌 Canal opérateur connecté"),h("Canal prêt"),l(S=>(S&&E.publish(S,t),S))});return c(E),()=>{console.log("🧹 Nettoyage MatchPage"),E.close()}},[t.id]),R.useEffect(()=>{o&&s==="live"&&(localStorage.setItem(y,JSON.stringify(o)),console.log("💾 État sauvegardé dans localStorage"))},[o,s,y]),R.useEffect(()=>{if(!(o!=null&&o.matchId))return;console.log("⏰ Démarrage du tick pour:",o.matchId);const v=setInterval(()=>{l(E=>{if(!E)return E;const S=_v(E);return JSON.stringify(S)===JSON.stringify(E)?E:S})},100);return()=>{console.log("⏰ Arrêt du tick"),clearInterval(v)}},[o==null?void 0:o.matchId]);const g=R.useCallback((v,E)=>{if(!o||!a)return;v==="clock:start"&&(console.log("🔴 Démarrage du match - Marquage comme ACTIF"),i("live"),(async()=>{try{await ye.from("matches").update({status:"live",updated_at:new Date().toISOString()}).eq("id",t.id),console.log("✅ Match marqué comme ACTIF");const{data:x}=await ye.from("matches").select("*").eq("org_id",t.org_id).order("scheduled_at",{ascending:!0});x&&r(x)}catch(x){console.error("❌ Erreur marquage live:",x)}})()),console.log("🎮 Action envoyée:",v,E);const S=kv(o,{type:v,payload:E});console.log("🎮 Nouvel état:",S),console.log("🎮 Score après action:",S.score),l(S),a.publish(S,t),console.log("📡 État publié vers Display")},[o,a,t.id,t.org_id,r]),f=R.useCallback(async()=>{if(confirm("Êtes-vous sûr de vouloir remettre ce match à zéro ? Cela arrêtera le chronomètre et remettra les scores à 0."))try{i("scheduled");const{error:v}=await ye.from("matches").update({status:"scheduled",updated_at:new Date().toISOString()}).eq("id",t.id);if(v){console.error("Erreur lors du reset:",v),alert(`Erreur lors du reset: ${v.message}`);return}const E=`${t.org_id}:${t.id}`,S=ro(E,t.sport);l(S),localStorage.removeItem(y),a&&a.publish(S,t);const{data:C}=await ye.from("matches").select("*").eq("org_id",t.org_id).order("scheduled_at",{ascending:!0});C&&r(C),console.log("Match remis à zéro avec succès")}catch(v){console.error("Erreur inattendue:",v),alert(`Erreur inattendue: ${v instanceof Error?v.message:"Erreur inconnue"}`)}},[t.id,t.org_id,t.sport,a]),p=R.useCallback(async()=>{if(confirm("Êtes-vous sûr de vouloir archiver ce match ? Il sera déplacé dans la section des matchs archivés.")){_(!0),i("archived");try{const{error:v}=await ye.from("matches").update({status:"archived",updated_at:new Date().toISOString()}).eq("id",t.id);if(v)console.error("Erreur lors de l'archivage:",v),alert(`Erreur lors de l'archivage: ${v.message}`);else{console.log("Match archivé avec succès"),localStorage.removeItem(y);const{data:E}=await ye.from("matches").select("*").eq("org_id",t.org_id).order("scheduled_at",{ascending:!0});E&&r(E),a&&a.close(),e()}}catch(v){console.error("Erreur inattendue:",v),alert(`Erreur inattendue: ${v instanceof Error?v.message:"Erreur inconnue"}`)}_(!1)}},[t.id,t.org_id,a,e,r,y]);return o?u.jsxs("div",{className:"match-page",children:[u.jsxs("div",{className:"match-header",children:[u.jsx("button",{onClick:e,className:"back-button",children:"← Retour à la liste"}),u.jsxs("div",{className:"match-title-section",children:[u.jsx("h1",{className:"match-title",children:t.name}),u.jsxs("div",{className:"match-subtitle",children:[t.home_name," vs ",t.away_name,k&&u.jsx("span",{style:{background:"#dc2626",color:"white",padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",marginLeft:"12px"},children:"🔴 MATCH ACTIF"})]})]}),u.jsxs("div",{className:"match-actions",children:[u.jsxs("div",{className:"sport-selector",children:[u.jsx("label",{children:"Sport:"}),u.jsxs("select",{value:o.sport,onChange:v=>g("sport:set",{sport:v.target.value}),children:[u.jsx("option",{value:"basic",children:"Basic"}),u.jsx("option",{value:"football",children:"Football"}),u.jsx("option",{value:"handball",children:"Handball"}),u.jsx("option",{value:"basket",children:"Basketball"}),u.jsx("option",{value:"hockey_ice",children:"Hockey sur glace"}),u.jsx("option",{value:"hockey_field",children:"Hockey sur gazon"}),u.jsx("option",{value:"volleyball",children:"Volleyball"})]})]}),u.jsx("button",{onClick:p,disabled:m||o.clock.running,title:o.clock.running?"Arrêtez d'abord le chronomètre pour archiver":"Archiver ce match (le rend inactif)",style:{background:"#f59e0b",borderColor:"#f59e0b",color:"white",minHeight:"40px",cursor:o.clock.running?"not-allowed":"pointer",opacity:o.clock.running?.6:1},children:m?"📦 Archivage...":"📦 Archiver"}),u.jsx("button",{onClick:f,disabled:o.clock.running,title:o.clock.running?"Arrêtez d'abord le chronomètre pour faire un reset":"Remettre le match à zéro (le rend inactif)",style:{background:"#dc2626",borderColor:"#dc2626",color:"white",minHeight:"40px",cursor:o.clock.running?"not-allowed":"pointer",opacity:o.clock.running?.6:1},children:"🔄 Reset"})]})]}),u.jsx("div",{className:"match-info",children:u.jsxs("div",{className:"sport-display",children:[u.jsx("strong",{children:"Sport actuel:"})," ",u.jsx("span",{className:"sport-badge",children:o.sport}),u.jsxs("div",{style:{marginTop:"8px",fontSize:"14px",color:"#9aa0a6"},children:[u.jsx("strong",{children:"Statut:"})," ",k?"🔴 Match actif (temps réel)":"⏸️ Match sélectionné (prêt)"]})]})}),u.jsxs("div",{className:"match-content",children:[u.jsxs("div",{className:"main-score",children:[u.jsxs("div",{className:"team-score",children:[u.jsx("div",{className:"team-name",children:t.home_name}),u.jsx("div",{className:"score-display",children:o.score.home.toString().padStart(2,"0")})]}),u.jsx("div",{className:"score-vs",children:":"}),u.jsxs("div",{className:"team-score",children:[u.jsx("div",{className:"team-name",children:t.away_name}),u.jsx("div",{className:"score-display",children:o.score.away.toString().padStart(2,"0")})]})]}),o.sport!=="volleyball"&&u.jsxs("div",{className:"time-controls",children:[u.jsxs("button",{className:"primary",onClick:()=>g("clock:start"),title:o.clock.running?"Le chronomètre tourne déjà":o.clock.remainingMs<o.clock.durationSec*1e3?"Reprendre le chronomètre":"Démarrer le match (devient actif)",disabled:o.clock.running,children:["▶ ",o.clock.running?"En cours...":o.clock.remainingMs<o.clock.durationSec*1e3?"Reprendre":"Démarrer"]}),u.jsx("button",{className:"danger",onClick:()=>g("clock:stop"),children:"⏸"}),u.jsxs("div",{className:"time-display",children:[Math.floor(o.clock.remainingMs/6e4).toString().padStart(2,"0"),":",Math.floor(o.clock.remainingMs%6e4/1e3).toString().padStart(2,"0")]}),u.jsxs("div",{className:"period-display",children:["Période ",o.clock.period]}),u.jsx("button",{onClick:()=>g("period:next"),children:"Période +1"}),u.jsx("button",{onClick:()=>g("period:prev"),children:"Période -1"})]}),u.jsx("div",{className:"controls-section",children:u.jsx(Sv,{state:o,send:g})}),j&&u.jsx("div",{className:"display-link",children:u.jsxs("div",{className:"small",children:[u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("strong",{children:"Statut :"})," ",u.jsx("span",{style:{color:d.includes("connecté")||d.includes("prêt")?"#4ade80":"#fbbf24"},children:d})]}),u.jsx("div",{style:{marginBottom:"8px",fontSize:"12px",color:"#9aa0a6"},children:k?"🔴 Affichage temps réel actif":"⏸️ Affichage statique (scores visibles)"}),u.jsx("strong",{children:"Lien Display :"}),u.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",children:j})]})})]})]}):u.jsx("div",{className:"match-page",children:u.jsx("div",{className:"card",children:u.jsx("div",{className:"loading",children:"Chargement du match..."})})})}console.log("🚀 Operator - Démarrage de l'application");function Iv(){const[t,e]=R.useState(!0),[n,r]=R.useState(null),[s,i]=R.useState(null),[o,l]=R.useState([]),[a,c]=R.useState(null),[d,h]=R.useState(""),[m,_]=R.useState({email:"",password:""}),[y,k]=R.useState(!1),j=o.find(x=>x.status==="live")||null;R.useEffect(()=>{console.log("🔐 Auth - Vérification de la session"),g()},[]);async function g(){try{const{data:{session:x},error:I}=await ye.auth.getSession();if(I){console.error("❌ Auth - Erreur session:",I),h(`Erreur de session: ${I.message}`),e(!1);return}x!=null&&x.user?(console.log("✅ Auth - Session trouvée:",x.user.email),r(x.user),await f(x.user)):(console.log("ℹ️ Auth - Aucune session active"),e(!1))}catch(x){console.error("💥 Auth - Erreur inattendue:",x),h(`Erreur inattendue: ${x instanceof Error?x.message:"Erreur inconnue"}`),e(!1)}}async function f(x){try{console.log("👤 User - Chargement des données pour:",x.email);const{data:I,error:w}=await ye.from("org_members_with_org").select("*").eq("user_id",x.id);if(w){console.error("❌ Orgs - Erreur:",w),h(`Erreur organisations: ${w.message}`),e(!1);return}if(console.log("🏢 Orgs - Trouvées:",(I==null?void 0:I.length)||0),!I||I.length===0){h("Aucune organisation trouvée pour cet utilisateur. Contactez un administrateur."),e(!1);return}const P=I[0],F={id:P.org_id,slug:P.org_slug,name:P.org_name};console.log("🏢 Org - Sélectionnée:",F.name),i(F),await p(F.id),e(!1)}catch(I){console.error("💥 User - Erreur inattendue:",I),h(`Erreur chargement utilisateur: ${I instanceof Error?I.message:"Erreur inconnue"}`),e(!1)}}async function p(x){try{console.log("⚽ Matches - Chargement pour org:",x);const{data:I,error:w}=await ye.from("matches").select("*").eq("org_id",x).order("scheduled_at",{ascending:!0});if(w){console.error("❌ Matches - Erreur:",w),h(`Erreur matchs: ${w.message}`);return}console.log("📋 Matches - Chargés:",(I==null?void 0:I.length)||0),l(I||[])}catch(I){console.error("💥 Matches - Erreur inattendue:",I),h(`Erreur chargement matchs: ${I instanceof Error?I.message:"Erreur inconnue"}`)}}async function v(){if(!m.email||!m.password){h("Email et mot de passe requis");return}k(!0),h("");try{console.log("🔐 Auth - Tentative de connexion:",m.email);const x=await ye.auth.signInWithPassword({email:m.email,password:m.password});if(x.error){console.error("❌ Auth - Erreur:",x.error),h(x.error.message),k(!1);return}x.data.user&&(console.log("✅ Auth - Succès:",x.data.user.email),r(x.data.user),await f(x.data.user))}catch(x){console.error("💥 Auth - Erreur inattendue:",x),h(`Erreur authentification: ${x instanceof Error?x.message:"Erreur inconnue"}`)}k(!1)}const E=R.useCallback(x=>{if(console.log("🎯 Sélection du match:",x.name),console.log("🎯 Main - Avant setSelectedMatch, selectedMatch actuel:",(a==null?void 0:a.name)||"null"),j&&j.id!==x.id){console.log("❌ Impossible de sélectionner un autre match - Match actif:",j.name),alert(`Impossible de sélectionner un autre match.
Le match "${j.name}" est actuellement actif.

Veuillez d'abord l'arrêter ou le remettre à zéro.`);return}c(x),console.log("🎯 Main - Après setSelectedMatch")},[a,j]),S=R.useCallback(()=>{console.log("🔙 Retour à la liste des matchs"),console.log("🔙 Main - Avant setSelectedMatch(null), selectedMatch actuel:",(a==null?void 0:a.name)||"null"),j&&console.log("ℹ️ Match actif détecté - Retour à la liste mais match reste sélectionnable"),c(null),console.log("🔙 Main - Après setSelectedMatch(null)")},[a,j]),C=R.useCallback(x=>{console.log("📋 Mise à jour des matchs:",x.length),l(x)},[]);return t?u.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"#0b0b0c",color:"#eaeaea",fontFamily:"Inter, ui-sans-serif, system-ui"},children:u.jsxs("div",{style:{background:"#111214",border:"1px solid #1b1c1f",borderRadius:"14px",padding:"40px",textAlign:"center",maxWidth:"400px"},children:[u.jsx("div",{style:{fontSize:"24px",marginBottom:"16px"},children:"⚽"}),u.jsx("div",{style:{fontSize:"18px",marginBottom:"8px"},children:"Chargement..."}),u.jsx("div",{style:{fontSize:"14px",color:"#9aa0a6"},children:"Vérification de la session"})]})}):n?a?(console.log("🎮 Main - Affichage de MatchPage pour:",a.name),console.log("🎮 Main - selectedMatch object:",a),console.log("🎮 Main - activeMatch object:",j),u.jsx(Ov,{match:a,onBack:S,activeMatch:j,onMatchesUpdate:C})):(console.log("🏠 Main - Affichage de SpacePage"),console.log("🏠 Main - selectedMatch is null, showing SpacePage"),u.jsx(wv,{user:n,org:s,matches:o,onMatchSelect:E,onMatchesUpdate:C,activeMatch:j})):u.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"#0b0b0c",color:"#eaeaea",fontFamily:"Inter, ui-sans-serif, system-ui"},children:u.jsxs("div",{style:{background:"#111214",border:"1px solid #1b1c1f",borderRadius:"14px",padding:"40px",width:"100%",maxWidth:"400px"},children:[u.jsx("h1",{style:{fontSize:"28px",margin:"0 0 24px 0",textAlign:"center",background:"linear-gradient(135deg, #36ffb5, #2563eb)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"⚽ Scoreboard Pro"}),u.jsxs("div",{style:{marginBottom:"24px"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"16px",padding:"12px",background:"rgba(37, 99, 235, 0.1)",border:"1px solid rgba(37, 99, 235, 0.3)",borderRadius:"8px",fontSize:"14px",color:"#9aa0a6"},children:["🔐 Connexion réservée aux utilisateurs autorisés",u.jsx("br",{}),u.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Les comptes sont créés par l'administrateur système"})]}),u.jsx("input",{type:"email",placeholder:"Email",value:m.email,onChange:x=>_(I=>({...I,email:x.target.value})),style:{width:"100%",padding:"12px",marginBottom:"12px",background:"#121316",border:"1px solid #202327",borderRadius:"8px",color:"#eaeaea",fontSize:"16px",boxSizing:"border-box"},disabled:y}),u.jsx("input",{type:"password",placeholder:"Mot de passe",value:m.password,onChange:x=>_(I=>({...I,password:x.target.value})),onKeyPress:x=>x.key==="Enter"&&v(),style:{width:"100%",padding:"12px",marginBottom:"16px",background:"#121316",border:"1px solid #202327",borderRadius:"8px",color:"#eaeaea",fontSize:"16px",boxSizing:"border-box"},disabled:y}),u.jsx("button",{onClick:v,disabled:y||!m.email||!m.password,style:{width:"100%",padding:"12px",background:y?"#6b7280":"#2563eb",border:`1px solid ${y?"#6b7280":"#2563eb"}`,color:"white",borderRadius:"8px",cursor:y?"not-allowed":"pointer",fontSize:"16px",fontWeight:"500"},children:y?"Connexion en cours...":"Se connecter"})]}),d&&u.jsx("div",{style:{background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",color:"#ff6b6b",padding:"12px",borderRadius:"8px",fontSize:"14px",marginTop:"16px"},children:d}),u.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textAlign:"center",marginTop:"16px"},children:"Besoin d'un compte ? Contactez votre administrateur système"})]})})}console.log("🎯 Main - Création du root React");const Rv=Jd(document.getElementById("root"));Rv.render(u.jsx(Iv,{}));console.log("🚀 Main - Application React montée");
